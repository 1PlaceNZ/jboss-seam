<?xml version="1.0"?>

<project name="seam-gen" default="setup" basedir=".">

	<taskdef name="packageDirectory" 
		classname="org.jboss.seam.tool.PackageDirectoryTask" 
		classpath="../jboss-seam-gen.jar"/>
	
	<target name="setup">
		
		<input addproperty="workspace.home" 
			       message="Enter your Java project workspace [C:/Projects]" 
			  defaultvalue="C:/Projects"/>
		
		<input addproperty="eclipse.wtp" 
			       message="Is this an Eclipse WTP workspace [N] " 
			     validargs="Y,N," defaultvalue="N"/>
		
		<input addproperty="jboss.home" 
			       message="Enter your JBoss home directory [C:/Program Files/jboss-4.0.5.GA]" 
			  defaultvalue="C:/Program Files/jboss-4.0.5.GA"/>
		
		<input addproperty="action.package" 
			       message="Enter the Java package name for your session beans [com.mydomain]" 
			  defaultvalue="com.mydomain"/>
		
		<input addproperty="model.package" 
			       message="Enter the Java package name for your entity beans [${action.package}]" 
			  defaultvalue="${action.package}"/>
		
		<input addproperty="mdb.package" 
			       message="Enter the Java package name for your message drive beans [${action.package}]" 
			  defaultvalue="${action.package}"/>
		
		<input addproperty="test.package" 
			       message="Enter the Java package name for your test cases [${action.package}.test]" 
			  defaultvalue="${action.package}.test"/>
		
		<packageDirectory property="action.dir" package="${action.package}"/>
		<packageDirectory property="model.dir" package="${model.package}"/>
		<packageDirectory property="mdb.dir" package="${mdb.package}"/>
		<packageDirectory property="test.dir" package="${test.package}"/>
		
		<propertyfile file="build.properties">
			<entry key="workspace.home" value="${workspace.home}"/>
			<entry key="jboss.home" value="${jboss.home}"/>
			<entry key="eclipse.wtp" value="${eclipse.wtp}"/>
			<entry key="action.package" value="${action.package}"/>
			<entry key="action.dir" value="${action.dir}"/>
			<entry key="model.package" value="${model.package}"/>
			<entry key="model.dir" value="${model.dir}"/>
			<entry key="mdb.package" value="${mdb.package}"/>
			<entry key="mdb.dir" value="${mdb.dir}"/>
			<entry key="test.package" value="${test.package}"/>
			<entry key="test.dir" value="${test.dir}"/>
		</propertyfile>
		
	</target>

</project>
