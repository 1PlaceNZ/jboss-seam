<?xml version="1.0" encoding="UTF-8"?>

<deployment xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:jboss:bean-deployer bean-deployer_1_0.xsd"
  xmlns="urn:jboss:bean-deployer">
  
  
  <bean name="TransactionManagerFactory" class="org.jboss.seam.microcontainer.TransactionManagerFactory">
    <property name="initialContextProperties"><inject bean="InitialContextProperties"/></property>
  </bean>
  <bean name="SeamTransactionManager" class="java.lang.Object">
    <constructor factoryMethod="getTransactionManager">
      <factory bean="TransactionManagerFactory"/>
    </constructor>
  </bean>
  
  
  <bean name="bookingDatasourceFactory" class="org.jboss.seam.microcontainer.DataSourceFactory">
    <property name="driverClass">org.hsqldb.jdbcDriver</property>
    <property name="connectionUrl">jdbc:hsqldb:.</property>
    <property name="userName">sa</property>
    <property name="jndiName">java:/noejbDatasource</property>
    <property name="minSize">0</property>
    <property name="maxSize">10</property>
    <property name="blockingTimeout">1000</property>
    <property name="idleTimeout">100000</property>
    <property name="transactionManager"><inject bean="SeamTransactionManager"/></property>
    <property name="initialContextProperties"><inject bean="InitialContextProperties"/></property>
  </bean>
  <bean name="bookingDatasource" class="java.lang.Object">
    <constructor factoryMethod="getDataSource">
      <factory bean="bookingDatasourceFactory"/>
    </constructor>
  </bean>
  
  <bean name="bookingDatabaseFactory" class="org.jboss.seam.microcontainer.HibernateFactory">
  </bean>
  <bean name="bookingDatabase" class="java.lang.Object">
    <constructor factoryMethod="buildSessionFactory">
      <factory bean="bookingDatabaseFactory"/>
    </constructor>
    <depends>bookingDatasource</depends>
  </bean>
  
</deployment>
