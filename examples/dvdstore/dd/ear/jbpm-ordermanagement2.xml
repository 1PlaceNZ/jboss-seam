<?xml version="1.0"?>

<process-definition name="OrderManagement">

    <start-state>
        <transition to="approval"/>
    </start-state>

    <task-node name="approval">
        <task name="approve">
           <assignment pooled-actors="reviewers" />
        </task>
        <!--
        <task name="approve">
           <assignment actor-id="manager"/>
        </task>
        -->
        <transition name="approve" to="process"/>
        <transition name="reject"  to="complete"/>
    </task-node>

    <task-node name="process">
        <task name="ship">
           <assignment pooled-actors="#{shipperAssignment.pooledActors}" />
        </task>
        <transition name="shipped" to="complete">
            <action expression="#{afterShipping.log}" />
        </transition>
    </task-node>

    <end-state name="complete"/>
</process-definition>
