<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:s="http://jboss.com/products/seam/taglib"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>Seam Mail</title>
    <ui:remove><link href="screen.css" rel="stylesheet" type="text/css" /></ui:remove>
</head>
<body>
   
    <h1>Sample Emails</h1>
    
    <h:form>
        <h:panelGrid columns="2">
            <h:outputText value="Name" />
            <h:panelGroup>
                <h:inputText value="#{person.firstname}" required="true" />
                <h:inputText value="#{person.lastname}" required="true" />
            </h:panelGroup>
            <h:outputText value="Email Address" />
            <h:inputText value="#{person.address}" rerquired="true"/>
        </h:panelGrid>
        <h:panelGrid>
        <h:commandButton action="#{mailExample.send}" value="Send a simple email" />
        <h:commandButton action="#{mailExample.sendPlain}" value="Send Plain Text Email" />
        <h:commandButton action="#{mailExample.sendHtml}" value="Send HTML Email" />
        <h:commandButton action="templating" value="Send Templated Email" />
        </h:panelGrid>
        <h:messages infoStyle="info" errorStyle="error" fatalStyle="fatal" warnStyle="warn" />
    </h:form>
    
    <h1>Help!</h1>
    <p>If you have problems sending emails from this example it's likely you have a firewall blocking outgoing email.  You'll need to edit <code>&lt;mail:mailSession&gt;</code> in <code>resources/WEB-INF/components.xml</code> a<code>&lt;mail:mailSession&gt;</code>, set a SMTP gateway to relay via and then run the <code>ant deploy</code> again.</p>
    
    <p>This example deploys an SMTP server (<code>buni-mail.ear</code>) which listens for authenticated connections on <code>localhost:2525</code>.  This might fail if you another service using port 2525 (you'll get a lot of errors when the applicaiton is deployed), set a SMTP gateway as descrived above.</p>
</body>
</html>
