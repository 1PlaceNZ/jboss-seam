<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	    		xmlns:ui="http://java.sun.com/jsf/facelets"
	  			xmlns:h="http://java.sun.com/jsf/html"
	  			xmlns:f="http://java.sun.com/jsf/core"
	  			xmlns:s="http://jboss.com/products/seam/taglib"
				template="template.xhtml">
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>Edit Contact</title>
	<link href="screen.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
  
    <div class="menuButtons">
      <s:link view="/search.xhtml" value="Search Contacts"/>
      <s:link view="/editContact.xhtml" value="Create New Contact">
        <f:param name="contactId"/> <!-- suppress propagation of contact id page parameter -->
      </s:link>
      <s:link view="/viewContact.xhtml" value="View Contact" rendered="#{contactActions.managed}"/>
      <s:link view="/editContact.xhtml" value="Edit Contact" rendered="#{contactActions.managed}"/>
    </div> 
   
    <div class="body">
    
      <h1>Edit Contact</h1>
    
      <h:form>
      
        <h:messages globalOnly="true" styleClass="message"/>
  	  
  	    <!-- editable fields --> 
        <s:validateAll>
        
          <div class="dialog">
            <table>
              <tr class="prop">
                <td class="name">First Name:</td>
                <td class="value"><h:inputText id="firstName" value="#{contact.firstName}"/></td>
                <td class="errors"><h:message for="firstName"/></td>
              </tr>
              <tr class="prop">
                <td class="name">Last Name:</td>
                <td class="value"><h:inputText id="lastName" value="#{contact.lastName}"/></td>
                <td class="errors"><h:message for="lastName"/></td>
              </tr>
              <tr class="prop">
                <td class="name">Cell Phone:</td>
                <td class="value"><h:inputText id="cellPhone" value="#{contact.cellPhone}"/></td>
                <td class="errors"><h:message for="cellPhone"/></td>
              </tr>
              <tr class="prop">
                <td class="name">Home Phone:</td>
                <td class="value"><h:inputText id="homePhone" value="#{contact.homePhone}"/></td>
                <td class="errors"><h:message styleClass="error" for="homePhone"/></td>
              </tr>
              <tr class="prop">
                <td class="name">Address:</td>
                <td class="value"><h:inputText id="address" value="#{contact.address}"/></td>
                <td class="errors"><h:message styleClass="error" for="address"/></td>
              </tr>
              <tr class="prop">
                <td class="name">City:</td>
                <td class="value"><h:inputText id="city" value="#{contact.city}"/></td>
                <td class="errors"><h:message for="city"/></td>
              </tr>
              <tr class="prop">
                <td class="name">State:</td>
                <td class="value"><h:inputText id="state" value="#{contact.state}"/></td>
                <td class="errors"><h:message for="state"/></td>
              </tr>
              <tr class="prop">
                <td class="name">Zip:</td>
                <td class="value"><h:inputText id="zip" value="#{contact.zip}"/></td>
                <td class="errors"><h:message for="zip"/></td>
              </tr>
              <tr class="prop">
                <td class="name">Country:</td>
                <td class="value"><h:inputText id="country" value="#{contact.country}"/></td>
                <td class="errors"><h:message for="country"/></td>
              </tr>
            </table>
          </div>
      
        </s:validateAll>
      
        <!-- actions -->
        <div class="actionButtons">
        
          <h:commandLink action="#{contactActions.update}" value="Update Contact" rendered="#{contactActions.managed}"/>
          <s:link action="#{contactActions.remove}" value="Delete Contact" rendered="#{contactActions.managed}"/>
          <s:link view="/viewContact.xhtml" value="Cancel" rendered="#{contactActions.managed}"/>

          <h:commandLink action="#{contactActions.persist}" value="Create Contact" rendered="#{!contactActions.managed}"/>
          <s:link view="/search.xhtml" value="Cancel" rendered="#{!contactActions.managed}"/>

        </div>
      
      </h:form>
    
    </div>
    
  </body>
</html>
