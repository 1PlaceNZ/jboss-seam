<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	    		xmlns:ui="http://java.sun.com/jsf/facelets"
	  			xmlns:h="http://java.sun.com/jsf/html"
	  			xmlns:f="http://java.sun.com/jsf/core"
	  			xmlns:s="http://jboss.com/products/seam/taglib"
				template="template.xhtml">
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>View Contact</title>
  </head>
  <body>
  
    <h:messages/>
  
    <!-- fields -->
    <table>
      <tr>
        <td>First Name</td>
        <td>#{contact.firstName}</td>
      </tr>
      <tr>
        <td>Last Name</td>
        <td>#{contact.lastName}</td>
      </tr>
      <tr>
        <td>Cell Phone</td>
        <td>#{contact.cellPhone}</td>
      </tr>
      <tr>
        <td>Home Phone</td>
        <td>#{contact.homePhone}</td>
      </tr>
      <tr>
        <td>Address</td>
        <td>#{contact.address}</td>
      </tr>
      <tr>
        <td>City</td>
        <td>#{contact.city}</td>
      </tr>
      <tr>
        <td>State</td>
        <td>#{contact.state}</td>
      </tr>
      <tr>
        <td>Zip</td>
        <td>#{contact.zip}</td>
      </tr>
      <tr>
        <td>Country</td>
        <td>#{contact.country}</td>
      </tr>
    </table>
    
    <!-- associations -->
    
    <h:dataTable value="#{contact.comments}" var="c" rendered="#{not empty contact.comments}">
      <h:column>
        <h:outputText value="#{c.created}">
          <f:convertDateTime type="both"/>
        </h:outputText>
      </h:column>
      <h:column>
        <f:facet name="header">Comment</f:facet>
        #{c.text}
      </h:column>
    </h:dataTable>
    
    <!-- links and actions -->
    <s:link view="/comment.xhtml" value="Create Comment"/>
    &#160;&#160;
    <s:link view="/editContact.xhtml" value="Edit Contact"/>
    &#160;&#160;
    <s:link action="#{contactActions.remove}" value="Delete Contact" rendered="#{contactActions.managed}">
      <f:param name="contactId" value="#{contact.id}"/>
    </s:link>
    &#160;&#160;
    <s:link view="/editContact.xhtml" value="Create New Contact">
      <f:param name="contactId"/> <!-- suppress propagation of contact id page parameter -->
    </s:link>
    &#160;&#160;
    <s:link view="/search.xhtml" value="Search Contacts"/>
    
  </body>
</html>
