<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	    		xmlns:ui="http://java.sun.com/jsf/facelets"
	  			xmlns:h="http://java.sun.com/jsf/html"
	  			xmlns:f="http://java.sun.com/jsf/core"
	  			xmlns:s="http://jboss.com/products/seam/taglib"
				template="template.xhtml">
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>Contact List</title>
  </head>
  <body>
  
    <h:messages/>
    
    <!-- search box -->
    <h:form>
       First Name: <h:inputText value="#{exampleContact.firstName}"/>
       Last Name : <h:inputText value="#{exampleContact.lastName}"/>
       <h:commandButton value="Search" action="/search.xhtml"/>
    </h:form>
    
    <!-- search results -->
    <table>
      <tr>
        <th>Name</th>
        <th>Cell Phone</th>
        <th>Home Phone</th>
        <th>Address</th>
        <th>City</th>
        <th>State</th>
        <th>Zip</th>
        <th>Country</th>
      </tr>
      <ui:repeat value="#{contacts.resultList}" var="cont">
        <tr>
          <td>
            <s:link view="/viewContact.xhtml" value="#{cont.firstName} #{cont.lastName}">
              <f:param name="contactId" value="#{cont.id}"/>
            </s:link>
          </td>
          <td>#{cont.cellPhone}</td>
          <td>#{cont.homePhone}</td>
          <td>#{cont.address}</td>
          <td>#{cont.city}</td>
          <td>#{cont.state}</td>
          <td>#{cont.zip}</td>
          <td>#{cont.country}</td>
        </tr>
      </ui:repeat>
    </table>
    
    <!-- pagination control -->
    <div>
      <s:link view="/search.xhtml" rendered="#{contacts.previousExists}" value="&lt;&lt;">
        <f:param name="firstResult" value="0"/>
      </s:link>
      <h:outputText rendered="#{!contacts.previousExists}" value="&lt;&lt;"/>
      &#160;
      <s:link view="/search.xhtml" rendered="#{contacts.previousExists}" value="&lt;">
        <f:param name="firstResult" value="#{contacts.previousFirstResult}"/>
      </s:link>
      <h:outputText rendered="#{!contacts.previousExists}" value="&lt;"/>
      &#160;
      <s:link view="/search.xhtml" rendered="#{contacts.nextExists}" value="&gt;">
        <f:param name="firstResult" value="#{contacts.nextFirstResult}"/>
      </s:link>
      <h:outputText rendered="#{!contacts.nextExists}" value="&gt;"/>
    </div>
    
    <s:link view="/editContact.xhtml" value="Create New Contact"/>
    
  </body>
</html>
