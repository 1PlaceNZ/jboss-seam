<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE urlrewrite PUBLIC "-//tuckey.org//DTD UrlRewrite 3.0//EN" "http://tuckey.org/res/dtds/urlrewrite3.0.dtd">

<!--

    Rewrite various Wiki-like URL paths to request parameters (http://tuckey.org/urlrewrite/)

    @author Christian Bauer

-->
<urlrewrite>

    <!-- /123.lace -->
    <rule>
         <from>^/([0-9]+)\.[a-zA-z]+$</from>
         <to last="true">/wiki.seam?nodeId=$1</to>
     </rule>

    <!-- /Foo -->
    <rule>
        <from casesensitive="true">^/([A-Za-z0-9]+[A-Za-z0-9]*)$</from>
        <to last="true">/wiki.seam?areaName=$1</to>
    </rule>

    <!-- /Foo/Bar -->
    <rule>
        <from casesensitive="true">^/([A-Z0-9]+[A-Za-z0-9]*)/([A-Z0-9]+[A-Za-z0-9]*)$</from>
        <to last="true">/wiki.seam?areaName=$1&amp;nodeName=$2</to>
    </rule>

    <!-- /Foo/Bar/2007 -->
    <rule>
        <from casesensitive="true">^/([A-Z0-9]+[A-Za-z0-9]*)/([A-Z0-9]+[A-Za-z0-9]*)/([0-9]{4})$</from>
        <to last="true">/wiki.seam?areaName=$1&amp;nodeName=$2&amp;year=$3</to>
    </rule>

    <!-- /Foo/Bar/2007/08 -->
    <rule>
        <from casesensitive="true">^/([A-Z0-9]+[A-Za-z0-9]*)/([A-Z0-9]+[A-Za-z0-9]*)/([0-9]{4})/([0-9]{2})$</from>
        <to last="true">/wiki.seam?areaName=$1&amp;nodeName=$2&amp;year=$3&amp;month=$4</to>
    </rule>

    <!-- /Foo/Bar/2007/08/23 -->
    <rule>
        <from casesensitive="true">^/([A-Z0-9]+[A-Za-z0-9]*)/([A-Z0-9]+[A-Za-z0-9]*)/([0-9]{4})/([0-9]{2})/([0-9]{2})$</from>
        <to last="true">/wiki.seam?areaName=$1&amp;nodeName=$2&amp;year=$3&amp;month=$4&amp;day=$5</to>
    </rule>

    <!-- /Foo/Bar/Page/3 -->
    <rule>
        <from casesensitive="true">^/([A-Z0-9]+[A-Za-z0-9]*)/([A-Z0-9]+[A-Za-z0-9]*)/Page/([0-9]+)$</from>
        <to last="true">/wiki.seam?areaName=$1&amp;nodeName=$2&amp;page=$3</to>
    </rule>

    <!-- /Foo/Bar/2007/Page/3 -->
    <rule>
        <from casesensitive="true">^/([A-Z0-9]+[A-Za-z0-9]*)/([A-Z0-9]+[A-Za-z0-9]*)/([0-9]{4})/Page/([0-9]+)$</from>
        <to last="true">/wiki.seam?areaName=$1&amp;nodeName=$2&amp;year=$3&amp;page=$4</to>
    </rule>

    <!-- /Foo/Bar/2007/08/Page/3 -->
    <rule>
        <from casesensitive="true">^/([A-Z0-9]+[A-Za-z0-9]*)/([A-Z0-9]+[A-Za-z0-9]*)/([0-9]{4})/([0-9]{2})/Page/([0-9]+)$</from>
        <to last="true">/wiki.seam?areaName=$1&amp;nodeName=$2&amp;year=$3&amp;month=$4&amp;page=$5</to>
    </rule>

    <!-- /Foo/Bar/2007/08/23/Page/3 -->
    <rule>
        <from casesensitive="true">^/([A-Z0-9]+[A-Za-z0-9]*)/([A-Z0-9]+[A-Za-z0-9]*)/([0-9]{4})/([0-9]{2})/([0-9]{2})/Page/([0-9]+)$</from>
        <to last="true">/wiki.seam?areaName=$1&amp;nodeName=$2&amp;year=$3&amp;month=$4&amp;day=$5&amp;page=$6</to>
    </rule>

    <!-- /Foo/Bar/2007/Summary-->
    <rule>
        <from casesensitive="true">^/([A-Z0-9]+[A-Za-z0-9]*)/([A-Z0-9]+[A-Za-z0-9]*)/([0-9]{4})/Summary$</from>
        <to last="true">/wiki.seam?areaName=$1&amp;nodeName=$2&amp;year=$3&amp;summary=true</to>
    </rule>

    <!-- /Foo/Bar/2007/08/Summary -->
    <rule>
        <from casesensitive="true">^/([A-Z0-9]+[A-Za-z0-9]*)/([A-Z0-9]+[A-Za-z0-9]*)/([0-9]{4})/([0-9]{2})/Summary$</from>
        <to last="true">/wiki.seam?areaName=$1&amp;nodeName=$2&amp;year=$3&amp;month=$4&amp;summary=true</to>
    </rule>

    <!-- /Foo/Bar/2007/08/23/Summary -->
    <rule>
        <from casesensitive="true">^/([A-Z0-9]+[A-Za-z0-9]*)/([A-Z0-9]+[A-Za-z0-9]*)/([0-9]{4})/([0-9]{2})/([0-9]{2})/Summary$</from>
        <to last="true">/wiki.seam?areaName=$1&amp;nodeName=$2&amp;year=$3&amp;month=$4&amp;day=$5&amp;summary=true</to>
    </rule>

    <!-- / -->
    <rule>
        <from>^/$</from>
        <to>/wiki.seam</to>
    </rule>

</urlrewrite>

