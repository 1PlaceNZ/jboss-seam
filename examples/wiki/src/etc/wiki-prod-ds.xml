<?xml version="1.0" encoding="UTF-8"?>
<datasources>

    <local-tx-datasource>
        <jndi-name>wikiDatasource</jndi-name>
        <connection-url>jdbc:mysql://localhost/test?characterEncoding=UTF-8</connection-url>
        <driver-class>com.mysql.jdbc.Driver</driver-class>
        <user-name>test</user-name>
        <password></password>

        <min-pool-size>20</min-pool-size>

        <!-- Make sure your MySQL config has that man max_connections!
             This is the max_threads in default Tomcat server.xml on JBoss AS. -->
        <max-pool-size>250</max-pool-size>

        <blocking-timeout-millis>5000</blocking-timeout-millis>
        
        <!-- Needs to be smaller than wait_timeout (which is in seconds) in /etc/my.cnf! -->
        <idle-timeout-minutes>2</idle-timeout-minutes>

        <!-- Safety in case all these timeouts still conflict -->
        <check-valid-connection-sql>select 1</check-valid-connection-sql>

    </local-tx-datasource>

</datasources>

