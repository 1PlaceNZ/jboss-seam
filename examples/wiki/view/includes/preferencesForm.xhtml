<div id="preferencesForm"
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:s="http://jboss.com/products/seam/taglib">

<h:form rendered="#{!empty prefEditor.preferenceComponent}">
    <div class="formHead">Preferences: #{prefEditor.preferenceComponent.description}</div>

    <h:dataTable id="propertyTable" var="v"
                 value="#{prefEditor.preferenceValues}"
                 styleClass="datatable topLeftBottomBorder"
                 columnClasses="twentyPercentColumn alignLeft minorPadding, twentyPercentColumn alignLeft, defaultColumn alignCenter rightBorder"
                 rowClasses="rowEven,rowOdd"
                 cellpadding="0" cellspacing="0" border="0">

        <h:column>
            <s:decorate>
                <h:outputText value="#{v.preferenceProperty.description}"/>
            </s:decorate>
        </h:column>
        <h:column>

            <s:div rendered="#{v.value.class.simpleName == 'Boolean'}">
                <h:selectBooleanCheckbox value="#{v.value}"/>
            </s:div>

            <s:div rendered="#{v.value.class.simpleName == 'String'}">
                <h:inputText value="#{v.value}" size="32"/>
            </s:div>

            <s:div rendered="#{v.value.class.simpleName == 'Long'}">
                <h:inputText value="#{v.value}" size="5">
                    <f:converter converterId="javax.faces.Long"/>
                </h:inputText>
            </s:div>

            <s:div rendered="#{v.value.class.simpleName == 'Double'}">
                <h:inputText value="#{v.value}" size="10"/>
            </s:div>

            <s:div rendered="#{v.value.class.simpleName == 'Date'}">
                 <h:inputText id="dt" value="#{v.value}">
                    <f:convertDateTime pattern="dd. MMM yyyy, HH:mm"/>
                </h:inputText>
                <s:selectDate for="dt" dateFormat="dd. MMM yyyy, HH:mm">
                    <h:graphicImage style="vertical-align:bottom;margin-bottom:2px;" value="/themes/#{wikiPreferences.themeName}/img/icon.calendar.gif" width="16" height="16"/>
                </s:selectDate>
            </s:div>

        </h:column>
    </h:dataTable>

    <div class="formControls">
        <div class="entry">
            <div class="label">&#160;</div>
            <div class="input">
                <h:commandLink id="update" action="#{prefEditor.save}"
                           tabindex="5" accesskey="S" styleClass="button"><span class="buttonLabel"><u>S</u>ave</span></h:commandLink>
            </div>
        </div>
    </div>

</h:form>

</div>