<s:div id="accessLevelSelector"
	 xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:wiki="http://jboss.com/products/seam/wiki"
     xmlns:s="http://jboss.com/products/seam/taglib"
     rendered="#{currentUser != guestUser}">

    <s:div styleClass="entry">
        <div class="label">Readable by:</div>
        <div class="input">
            <h:selectOneMenu value="#{nodePermissions.readAccessLevel}" tabindex="1" converter="accessLevelConverter">
                <s:selectItems value="#{assignableAccessLevelsList}"
                               var="aLvl"
                               label="Role: #{wiki:truncateString(aLvl.roleNames, 40, '...')}"
                               noSelectionLabel="#{currentUser.id == currentNode.createdBy.id
                                                   || empty currentNode.createdBy
                                                   ? wiki:concat('User: ', currentUser.username)
                                                   : null}"/>
            </h:selectOneMenu>
        </div>
    </s:div>

    <s:div styleClass="entry">
        <div class="label">Writable by:</div>
        <div class="input">
            <h:selectOneMenu value="#{nodePermissions.writeAccessLevel}" tabindex="1" converter="accessLevelConverter">
                <s:selectItems value="#{assignableAccessLevelsList}"
                               var="aLvl"
                               label="Role: #{wiki:truncateString(aLvl.roleNames, 40, '...')}"
                               noSelectionLabel="#{currentUser.id == currentNode.createdBy.id
                                                   || empty currentNode.createdBy
                                                   ? wiki:concat('User: ', currentUser.username)
                                                   : null}"/>
            </h:selectOneMenu>
        </div>
    </s:div>
    

</s:div>

