<s:fragment
        xmlns:s="http://jboss.com/products/seam/taglib"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:a="https://ajax4jsf.dev.java.net/ajax"
        xmlns:wiki="http://jboss.com/products/seam/wiki">

<s:div id="#{textEditorId}Preview">
    <s:div styleClass="textPreview"
           rendered="#{not empty valueBinding
                       and wikiTextPreview.isPreviewEnabled(textEditorId)
                       and wikiTextValidator.isValid(textEditorId)}">
        <wiki:formattedText value="#{valueBinding}"
                            linkStyleClass="regularLink"
                            brokenLinkStyleClass="brokenLink"
                            attachmentLinkStyleClass="regularLink"
                            thumbnailLinkStyleClass="regularLink"
                            linkBaseFile="#{baseDocument}"
                            currentAreaNumber="#{baseDirectory.areaNumber}"
                            enableMacroRendering="false"/>
    </s:div>
    <s:div styleClass="textPreview"
           rendered="#{wikiTextPreview.isPreviewEnabled(textEditorId) and not wikiTextValidator.isValid(textEditorId)}">
        <h:outputText value="#{messages['lacewiki.msg.wikiTextValidator.InvalidWikiText']}"/>
    </s:div>
</s:div>

</s:fragment>
