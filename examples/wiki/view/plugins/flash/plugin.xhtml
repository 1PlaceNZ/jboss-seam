<wiki:plugin
	 xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:wiki="http://jboss.com/products/seam/wiki"
     xmlns:s="http://jboss.com/products/seam/taglib">

<s:div id="flashPluginDiv" styleClass="#{showPluginPreferences and !empty flashPreferencesEditor ? 'pluginPreferencesBox' : ''}">

    <s:div id="flashPreferences"
           rendered="#{showPluginPreferences and !empty flashPreferencesEditor}">
        <div align="center">
            <h:message for="flashPreferences" styleClass="pluginPreferencesMessage"/>

            <ui:include src="../../includes/pluginPreferencesForm.xhtml">
                <ui:param name="pluginDiv" value="flashPluginDiv"/>
                <ui:param name="pluginPreferencesEditor" value="#{flashPreferencesEditor}"/>
            </ui:include>
        </div>
    </s:div>

    <s:div rendered="#{not empty flashPreferences.flashURL and flash.URLAllowed}">
        <object width="#{flashPreferencesobjectWidth}"
                height="#{flashPreferences.objectHeight}">
            <param name="movie" value="#{flashPreferences.flashURL}"></param>
            <param name="wmode" value="transparent"></param>
            <embed src="#{flashPreferences.flashURL}"
                   type="application/x-shockwave-flash"
                   wmode="transparent"
                   width="#{flashPreferences.objectWidth}"
                   height="#{flashPreferences.objectHeight}">
           </embed>
        </object>
    </s:div>

    <s:div rendered="#{empty flashPreferences.flashURL}" styleClass="flashURLNotSupplied">
        <h:outputText value="#{messages['flash.msg.URLNotSupplied']}"/>
    </s:div>

    <s:div rendered="#{not empty flashPreferences.flashURL and not flash.URLAllowed}" styleClass="flashURLNotAllowed">
        <h:outputText value="#{messages['flash.msg.URLNotAllowed']}"/>
    </s:div>

</s:div>

</wiki:plugin>
