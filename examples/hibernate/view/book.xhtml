<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	    		xmlns:ui="http://java.sun.com/jsf/facelets"
	  			xmlns:h="http://java.sun.com/jsf/html"
	  			xmlns:f="http://java.sun.com/jsf/core"
	  			xmlns:s="http://jboss.com/products/seam/taglib"
				template="template.xhtml">

<!-- content -->
<ui:define name="content">
<div class="section">
	<h1>Book Hotel</h1>
</div>
<div class="section">
	<h:form>
	<fieldset>
		<div class="entry">
			<div class="label">Name:</div>
			<div class="output">#{hotel.name}</div>
		</div>
		<div class="entry">
			<div class="label">Address:</div>
			<div class="output">#{hotel.address}</div>
		</div>
		<div class="entry">
			<div class="label">City:</div>
			<div class="output">#{hotel.city}</div>
		</div>
		<div class="entry">
			<div class="label">Zip:</div>
			<div class="output">#{hotel.zip}</div>
		</div>
		
		<s:validateAll>
			<div class="entry">
				<div class="label"><h:outputLabel for="checkinDate">Check In Date:</h:outputLabel></div>
				<div class="input">
					<h:inputText id="checkinDate" value="#{booking.checkinDate}" required="true">
						<f:convertDateTime type="date"/>
					</h:inputText>
					<br/><span class="errors"><h:message for="checkinDate" /></span>
				</div>
			</div>
			<div class="entry">
				<div class="label"><h:outputLabel for="checkoutDate">Check Out Date:</h:outputLabel></div>
				<div class="input">
					<h:inputText id="checkoutDate" value="#{booking.checkoutDate}" required="true">
						<f:convertDateTime type="date"/>
					</h:inputText>
					<br/><span class="errors"><h:message for="checkoutDate" /></span>
				</div>
			</div>
			<div class="entry">
				<div class="label"><h:outputLabel for="beds">Room Preference:</h:outputLabel></div>
				<div class="input">
				   <h:selectOneMenu id="beds" value="#{booking.beds}">
				      <f:selectItem itemLabel="One king-size bed" itemValue="1"/>
				      <f:selectItem itemLabel="Two double beds" itemValue="2"/>
				      <f:selectItem itemLabel="Three beds" itemValue="3"/>
				   </h:selectOneMenu>
				   <br/><span class="errors"><h:message for="beds"/></span>
				</div>
			</div>
			<div class="entry">
				<div class="label"><h:outputLabel for="smoking">Smoking Preference:</h:outputLabel></div>
				<div id="radio" class="input">
				   <h:selectOneRadio id="smoking" value="#{booking.smoking}" layout="vertical">
				      <f:selectItem itemLabel="Smoking" itemValue="true"/>
				      <f:selectItem itemLabel="Non Smoking" itemValue="false"/>
	               </h:selectOneRadio>
				   <br/>
				</div>
			</div>
			<div class="entry">
				<div class="label"><h:outputLabel for="creditCard">Credit Card #:</h:outputLabel></div>
				<div class="input">
				   <h:inputText id="creditCard" value="#{booking.creditCard}" required="true"/>
				   <br/><span class="errors"><h:message for="creditCard" /></span>
				</div>
			</div>
			<div class="entry">
				<div class="label"><h:outputLabel for="creditCardName">Credit Card Name:</h:outputLabel></div>
				<div class="input">
				   <h:inputText id="creditCardName" value="#{booking.creditCardName}" required="true"/>
				   <br/><span class="errors"><h:message for="creditCardName" /></span>
				</div>
			</div>
			<div class="entry">
				<div class="label"><h:outputLabel for="creditCardExpiryMonth">Credit Card Expiry:</h:outputLabel></div>
				<div class="input">
				   <h:selectOneMenu id="creditCardExpiryMonth" value="#{booking.creditCardExpiryMonth}">
				      <f:selectItem itemLabel="Jan" itemValue="1"/>
				      <f:selectItem itemLabel="Feb" itemValue="2"/>
				      <f:selectItem itemLabel="Mar" itemValue="3"/>
				      <f:selectItem itemLabel="Apr" itemValue="4"/>
				      <f:selectItem itemLabel="May" itemValue="5"/>
				      <f:selectItem itemLabel="Jun" itemValue="6"/>
				      <f:selectItem itemLabel="Jul" itemValue="7"/>
				      <f:selectItem itemLabel="Aug" itemValue="8"/>
				      <f:selectItem itemLabel="Sep" itemValue="9"/>
				      <f:selectItem itemLabel="Oct" itemValue="10"/>
				      <f:selectItem itemLabel="Nov" itemValue="11"/>
				      <f:selectItem itemLabel="Dec" itemValue="12"/>
				   </h:selectOneMenu>
				   <h:selectOneMenu id="creditCardExpiryYear" value="#{booking.creditCardExpiryYear}">
				      <f:selectItem itemLabel="2005" itemValue="2005"/>
				      <f:selectItem itemLabel="2006" itemValue="2006"/>
				      <f:selectItem itemLabel="2007" itemValue="2007"/>
				      <f:selectItem itemLabel="2008" itemValue="2008"/>
				      <f:selectItem itemLabel="2009" itemValue="2009"/>
				   </h:selectOneMenu>
				   <br/>
				   <span class="errors">
				      <h:message for="creditCardExpiryMonth" />
				      <h:message for="creditCardExpiryYear" />
				   </span>
				</div>
			</div>
		</s:validateAll>
		
		<div class="entry errors"><h:messages globalOnly="true"/></div>
		<div class="entry">
			<div class="label">&#160;</div>
			<div class="input">
				<h:commandButton value="Proceed" action="#{hotelBooking.setBookingDetails}" class="button"/>&#160;
				<s:link value="Back To Search" action="main" buttonClass="button" linkStyle="button"/>
			</div>
		</div>		
	</fieldset>
	</h:form>
</div>
</ui:define>

<!-- sidebar -->
<ui:define name="sidebar">
<h1>Subversion of Control</h1>
<p>
    We're sure you know all about the idea of <em>inversion of control</em> or <em>dependency injection</em>, 
    as seen in EJB 3.0, JSF, and about a thousand other frameworks out there. Well, dependency injection is
    great for services, but it doesn't work for stateful components. So Seam introduces <em>subversion of 
    control</em> (yes, that was a private joke we've been taking <em>way</em> too far) or <em>bijection</em>, 
    where a component attribute is considered to be aliased to a contextual variable, and the component is 
    allowed to manipulate the value of the contextual variable just be reading and writing its own instance 
    variable.
</p>
</ui:define>

</ui:composition>