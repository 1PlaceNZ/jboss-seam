<?xml version="1.0" encoding="UTF-8"?>
<components xmlns="http://jboss.com/products/seam/components" 
            xmlns:core="http://jboss.com/products/seam/core"
            xmlns:spring="http://jboss.com/products/seam/spring"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="http://jboss.com/products/seam/core http://jboss.com/products/seam/core-1.3.xsd 
                                http://jboss.com/products/seam/components http://jboss.com/products/seam/components-1.3.xsd
                                http://jboss.com/products/seam/spring http://jboss.com/products/seam/spring-1.3.xsd">


    <core:manager conversation-timeout="120000" 
                  concurrent-request-timeout="500" 
                  conversation-id-parameter="cid"/>

    <core:managed-persistence-context name="entityManager"
                                      auto-create="true" 
                                      persistence-unit-jndi-name="java:/springEntityManagerFactory" />
    
    <core:init debug="true"/>
    
    <spring:context-loader/>
    <core:ejb installed="@embeddedEjb@" />
    
	<!-- Install a ThreadPoolDispatcher to handle scheduled asynchronous event -->
	<core:thread-pool-dispatcher name="threadPoolDispatcher"/>
    
    <!-- Install the SpringDispatcher as default -->
    <spring:task-executor-dispatcher schedule-dispatcher="#{threadPoolDispatcher}" task-executor="#{springThreadPoolTaskExecutor}"/>
</components>
