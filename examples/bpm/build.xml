<?xml version="1.0"?>

<!-- ======================================================================= -->
<!-- JBoss build file                                                       -->
<!-- ======================================================================= -->

<project name="jbpm" default="deploy" basedir=".">

   <!-- Naming -->
   <property name="Name" value="Seam jBPM Example"/>
   <property name="example.name" value="jboss-seam-jbpm"/>


   <!-- WAR -->
   <zipfileset id="example.war.docroot" dir="resources/web">
      <include name="**/*"/>
   </zipfileset>
   <zipfileset id="example.war.webinf" dir="resources/web">
      <include name="_NADA_"/>
   </zipfileset>
   <zipfileset id="example.war.webinf.lib" dir="resources/web">
      <include name="_NADA_"/>
   </zipfileset>


   <!-- EJB3 -->
   <fileset id="example.ejb3.root" dir="resources/ejb">
      <include name="**/*"/>
   </fileset>
   <fileset id="example.ejb3.lib" dir="../../lib">
      <include name="jbpm-3.0.jar"/>
   </fileset>


   <!-- EAR -->
   <zipfileset id="example.ear.resources" dir="resources/ear">
      <include name="**/*"/>
   </zipfileset>


   <!-- Deploy (to jboss) -->
   <fileset id="example.deploy" dir="resources/env/jboss">
      <include name="seam-jbpm-ds.xml"/>
   </fileset>

   <!-- Undeploy (from jboss) -->
   <patternset id="example.undeploy">
      <include name="seam-jbpm-ds.xml"/>
   </patternset>


   <import file="../../build.xml"/>

   <!-- Redefine deploy target to add ear dependency -->
   <target name="deploy" depends="ear">
      <antcall target="Seam.deploy"/>
   </target>

</project>
