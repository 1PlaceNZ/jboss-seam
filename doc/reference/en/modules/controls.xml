<chapter id="controls">
    <title>Seam JSF controls</title>
    <para>
        Seam includes a number of JSF controls that are useful for working with
        Seam. These are intended to complement the built-in JSF controls, and
        controls from other third-party libraries. We recommend the Ajax4JSF
        and ADF faces (now Trinidad) tag libraries for use with Seam. We do not
        recommend the use of the Tomahawk tag library.
    </para>
    
    <para>
    	The ui example demonstrates the use of a number of these tags.
    </para>
    
    <variablelist>
       <varlistentry>
           <term><literal>&lt;s:validate&gt;</literal></term>
           <listitem>
               <para>
                   Validate a JSF input field against the bound property using 
                   Hibernate Validator.
               </para>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:validateAll&gt;</literal></term>
           <listitem>
               <para>
                   Validate all child JSF input fields against the bound propertys using 
                   Hibernate Validator.
               </para>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:formattedText&gt;</literal></term>
           <listitem>
               <para>
                   Output <emphasis>Seam Text</emphasis>.
               </para>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:convertDateTime&gt;</literal></term>
           <listitem>
               <para>
                   Perform date or time conversions in the Seam timezone.
               </para>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:convertEnum&gt;</literal></term>
           <listitem>
               <para>
                   Assigns an enum converter to the current component.  This is primarily
                   useful for radio button and dropdown controls.
               </para>                             
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:enumItem&gt;</literal></term>
           <listitem>
               <para>
                   Creates a <literal>SelectItem</literal> from an enum value.  
               </para>
               <itemizedlist>
                   <listitem>
                   <para>
                       <literal>enumValue</literal> &mdash; the string representation of the enum 
                       value.  
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>label</literal> &mdash; the label to be used when rendering the <literal>SelectItem</literal>.
                   </para>
                   </listitem>
                   </itemizedlist>
           </listitem>
       </varlistentry>   
              <varlistentry>
           <term><literal>&lt;s:selectItem&gt;</literal></term>
           <listitem>
               <para>
                   Creates a  <literal>List&lt;SelectItem&gt;</literal> from a List, Set, DataModel or Array.
               </para>
                              <itemizedlist>
                   <listitem>
                   <para>
                       <literal>value</literal> &mdash; an EL expression specifying the data that backs the <literal>List&lt;SelectItem&gt;</literal>
                   </para>
                   </listitem>
                    <listitem>
                   <para>
                       <literal>var</literal> &mdash; defines the name of the local variable that holds the current object during iteration
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>label</literal> &mdash; the label to be used when rendering the <literal>SelectItem</literal>.  Can reference 
                       the <literal>var</literal> variable
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>noSelectionLabel</literal> &mdash; specifies the (optional) label to place at the top of list (if 
                       <literal>required="true"</literal> is also specified then selecting this value will cause a validation error)
                   </para>
                   </listitem>
                    <listitem>
                   <para>
                       <literal>hideNoSelectionLabel</literal> &mdash; if true, the <literal>noSelectionLabel</literal> will be hidden
                       when a value is selected
                   </para>
                   </listitem>
                   </itemizedlist>                        
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:decorate&gt;</literal></term>
           <listitem>
               <para>
                   "Decorate" a JSF input field when validation fails.
               </para>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:message&gt;</literal></term>
           <listitem>
               <para>
                   "Decorate" a JSF input field with the validation error message.
               </para>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:span&gt;</literal></term>
           <listitem>
               <para>
                   Render a HTML <literal>&lt;span&gt;</literal>.
               </para>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:div&gt;</literal></term>
           <listitem>
               <para>
                   Render a HTML <literal>&lt;div&gt;</literal>.
               </para>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:cache&gt;</literal></term>
           <listitem>
               <para>
                   Cache the rendered page fragment using JBoss Cache. Note that 
                   <literal>&lt;s:cache&gt;</literal> actually uses the instance
                   of JBoss Cache managed by the built-in <literal>pojoCache</literal>
                   component.
               </para>
               <itemizedlist>
                   <listitem>
                   <para>
                       <literal>key</literal> &mdash; the key to cache rendered content,
                       often a value expression. For example, if we were caching a page
                       fragment that displays a document, we might use 
                       <literal>key="Document-#{document.id}"</literal>.
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>enabled</literal> &mdash; a value expression that determines
                       if the cache should be used.
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>region</literal> &mdash; a JBoss Cache node to use (different
                       nodes can have different expiry policies).
                   </para>
                   </listitem>
               </itemizedlist>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:link&gt;</literal></term>
           <listitem>
               <para>
                   A link that supports invocation of an action with control over conversation 
                   propagation. <emphasis>Does not submit the form.</emphasis>
               </para>
               <itemizedlist>
                   <listitem>
                   <para>
                       <literal>value</literal> &mdash; the label.
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>action</literal> &mdash; a method binding that specified
                       the action listener.
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>view</literal> &mdash; the JSF view id to link to.
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>fragment</literal> &mdash; the fragment identifier to link to.
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>disabled</literal> &mdash; is the link disabled?
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>propagation</literal> &mdash; determines the conversation
                       propagation style: <literal>begin</literal>, <literal>join</literal>,
                       <literal>nest</literal>, <literal>none</literal> or <literal>end</literal>.
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>pageflow</literal> &mdash; a pageflow definition to begin.
                       (This is only useful when <literal>propagation="begin"</literal> or 
                       <literal>propagation="join"</literal>.)
                   </para>
                   </listitem>
               </itemizedlist>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:button&gt;</literal></term>
           <listitem>
               <para>
                   A button that supports invocation of an action with control
                   over conversation propagation. <emphasis>Does not submit the form.</emphasis>
               </para>
               <itemizedlist>
                   <listitem>
                   <para>
                       <literal>value</literal> &mdash; the label.
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>action</literal> &mdash; a method binding that specified
                       the action listener.
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>view</literal> &mdash; the JSF view id to link to.
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>fragment</literal> &mdash; the fragment identifier to link to.
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>disabled</literal> &mdash; is the link disabled?
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>propagation</literal> &mdash; determines the conversation
                       propagation style: <literal>begin</literal>, <literal>join</literal>,
                       <literal>nest</literal>, <literal>none</literal> or <literal>end</literal>.
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>pageflow</literal> &mdash; a pageflow definition to begin.
                       (This is only useful when <literal>propagation="begin"</literal> or 
                       <literal>propagation="join"</literal>.)
                   </para>
                   </listitem>
               </itemizedlist>
           </listitem>
       </varlistentry>
        
        <varlistentry>
            <term><literal>&lt;s:selectDate&gt;</literal></term>
            <listitem>
                <para>
                    Displays a dynamic date picker component that selects a date 
                    for the specified input field.  The body of the selectDate element should
                    contain HTML elements, such as text or an image, that prompt the user to click
                    to display the date picker. 
                </para>
                
                <itemizedlist>
                    <listitem><para><literal>for</literal> &mdash;
                        The id of the input field that the date picker will insert the
                        selected date into.
                    </para></listitem>
                </itemizedlist>
                
                
            </listitem>
        </varlistentry>
        
        <varlistentry>
           <term><literal>&lt;s:conversationPropagation&gt;</literal></term>
           <listitem>
               <para>
                   Customize the conversation propagation for a command link or button
                   (or similar JSF control).
                   <emphasis>Facelets only.</emphasis>
               </para>
               <itemizedlist>
                   <listitem>
                   <para>
                       <literal>propagation</literal> &mdash; determines the conversation
                       propagation style: <literal>begin</literal>, <literal>join</literal>,
                       <literal>nest</literal>, <literal>none</literal> or <literal>end</literal>.
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>pageflow</literal> &mdash; a pageflow definition to begin.
                       (This is only useful when <literal>propagation="begin"</literal> or 
                       <literal>propagation="join"</literal>.)
                   </para>
                   </listitem>
               </itemizedlist>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:conversationId&gt;</literal></term>
           <listitem>
               <para>
                   Add the conversation id to an output link (or similar JSF control).
                   <emphasis>Facelets only.</emphasis>
               </para>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:taskId&gt;</literal></term>
           <listitem>
               <para>
                   Add the task id to an output link (or similar JSF control), when the
                   task is available via <literal>#{task}</literal>.
                   <emphasis>Facelets only.</emphasis>
               </para>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:fileUpload&gt;</literal></term>
           <listitem>
               <para>
                   Renders a file upload control.  This control must be used within a form with
                   an encoding type of <literal>multipart/form-data</literal>, i.e:
               </para>
                   
               <programlisting>
                 <![CDATA[
  <h:form enctype="multipart/form-data">
                 ]]>                   
               </programlisting>
               
               <para>
                   For multipart requests, the Seam Multipart servlet filter must also be configured
                   in <literal>web.xml</literal>:
               </para>
               
               <programlisting>
                 <![CDATA[
    <filter>
        <filter-name>Seam Multipart Filter</filter-name>
        <filter-class>org.jboss.seam.servlet.SeamMultipartFilter</filter-class>
    </filter>
    
    <filter-mapping>
        <filter-name>Seam Multipart Filter</filter-name>
        <url-pattern>*.seam</url-pattern>
    </filter-mapping>                 
                 ]]>
               </programlisting>
               
               <itemizedlist>
                   <listitem>
                   <para>
                       <literal>data</literal> &mdash; this value binding receives the binary file data.  
                       The receiving field should be declared as a <literal>byte[]</literal> (required).
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>contentType</literal> &mdash; this value binding receives the file's
                       content type (optional).
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>fileName</literal> &mdash; this value binding receives the filename (optional).
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>accept</literal> &mdash; a comma-separated list of content types to accept,
                       may not be supported by the browser.  E.g. <literal>"images/png,images/jpg"</literal>, 
                       <literal>"images/*"</literal>.
                   </para>
                   </listitem>       
                   <listitem>
                   <para>
                       <literal>style</literal> &mdash; The control's style
                   </para>
                   </listitem>
                   <listitem>
                   <para>
                       <literal>styleClass</literal> &mdash; The control's style class
                   </para>
                   </listitem>                                                                   
               </itemizedlist>               
               
           </listitem>
       </varlistentry>
       
       <!-- varlistentry>
           <term><literal>&lt;s:action&gt;</literal></term>
           <listitem>
               <para>
                   Attach an action listener to an output link (or similar JSF control).
                   <emphasis>Facelets only.</emphasis>
               </para>
               <itemizedlist>
                   <listitem>
                   <para>
                       <literal>action</literal> &mdash; a method binding that specified
                       the action listener.
                   </para>
                   </listitem>
               </itemizedlist>
           </listitem>
       </varlistentry>
       <varlistentry>
           <term><literal>&lt;s:selection&gt;</literal></term>
           <listitem>
               <para>
                   Propagate the selected row of a <literal>DataModel</literal> with an 
                   output link (or similar JSF control).
                   <emphasis>Facelets only.</emphasis>
               </para>
           </listitem>
       </varlistentry-->
    </variablelist>
    
</chapter>
