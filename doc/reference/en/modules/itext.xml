<chapter id="itext">
    <title>iText PDF generation</title>
    <para>Seam now includes an component set for generating documents using iText. The primary focus of Seam's iText
        document support is for the generation of PDF doucuments, but Seam also offers basic support for RTF document
        generation.</para>

    <section id="itext.intro">
        <title>Using PDF Support</title>
        <para>iText support is provided by <literal>jboss-seam-pdf.jar</literal>. This JAR contains the iText JSF
            controls, which are used to construct views that can render to PDF, and the DocumentStore component, which
            serves the rendered documents to the user. To include PDF support in your application, included
                <literal>jboss-seam-pdf.jar</literal> in your <literal>WEB-INF/lib</literal> directory along with the
            iText JAR file. There is no further configuration needed to use Seam's iText support. </para>
        <para> The Seam iText module requires the use of Facelets as the view technology. Future versions of the library
            may also support the use of JSP. Additionally, it requires the use of the seam-ui package.</para>

        <para> The <literal>examples/itext</literal> project contains an example of the PDF support in action. It
            demonstrates proper deployment packaging, and it contains a number examples that demonstrate the key PDF
            generation features current supported. </para>
    </section>


    <section id="itext.document">
        <title>Creating a document</title>



        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>

                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:document&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>
                            <para> Documents are generated by facelets documents using tags in the
                                    <literal>http://jboss.com/products/seam/pdf</literal> namespace. Documents should
                                always have the <literal>document</literal> tag at the root of the document. The
                                    <literal>document</literal> tag prepares Seam to generate a document into the
                                DocumentStore and renders an HTML redirect to that stored content.</para>

                            <para>
                                <emphasis>Attributes</emphasis>
                            </para>


                            <itemizedlist>
                                <listitem>
                                    <para>
                                        <literal>type</literal> &mdash; The type of the document to be produced.
                                        Valid values are <literal>PDF</literal>, <literal>RTF</literal> and
                                            <literal>HTML</literal> modes. Seam defaults to PDF generation, and many of
                                        the features only work correctly when generating PDF documents.</para>
                                </listitem>


                                <listitem>
                                    <para>
                                        <literal>pageSize</literal> &mdash; The size of the page to be generate. The
                                        most commonly used values would be <literal>LETTER</literal> and
                                        <literal>A4</literal>. A full list of supported pages sizes can be found in
                                            <literal>com.lowagie.text.PageSize</literal> class. Alternatively, pageSize
                                        can provide the width and height of the page directly. The value "612 792", for
                                        example, is equivalent to the LETTER page size. </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>orientation</literal> &mdash; The orientation of the page. Valid
                                        values are <literal>portrait</literal> and <literal>landscape</literal>. In
                                        landscape mode, the height and width page size values are reversed. </para>
                                </listitem>


                                <listitem>
                                    <para>
                                        <literal>margins</literal> &mdash; The left, right, top and bottom margin
                                        values. </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>marginMirroring</literal> &mdash; Indicates that margin settings
                                        should be reversed an alternating pages.</para>
                                </listitem>
                            </itemizedlist>


                            <para>
                                <emphasis>Metadata Attributes</emphasis>
                            </para>


                            <itemizedlist>
                                <listitem>
                                    <para>
                                        <literal>title</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>subject</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>keywords</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>author</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>creator</literal>
                                    </para>
                                </listitem>
                            </itemizedlist>
                            <para>
                                <emphasis>Usage</emphasis>
                            </para>
                            <programlisting>&lt;p:document xmlns:p=&quot;http://jboss.com/products/seam/pdf&quot;&gt;                                                      
  The document goes here.                                                                                             
&lt;/p:document&gt;</programlisting>


                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>

    </section>


    <section id="itext.text">
        <title>Basic Text Elements</title>

        <para> Useful documents will need to contain more than just text; however, the standard UI components are geared
            towards HTML generation and are not useful for generating PDF content. Instead, Seam provides a special UI
            components for generating suitable PDF content. Tags like <literal>&lt;p:image&gt;</literal> and
                <literal>&lt;p:paragraph&gt;</literal> are the basic foundations of simple documents. Tags like
                <literal>&lt;p:font&gt;</literal> provide style information to all the content surrounging them. </para>


        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:paragraph&gt;</literal>
                            </para>
                        </entry>


                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>
                            <para> Most uses of text should be sectioned into paragraphs so that text fragments can be
                                flowed, formatted and styled in logical groups.</para>

                            <para>
                                <emphasis>Attributes</emphasis>
                            </para>

                            <itemizedlist>
                                <listitem>
                                    <para>
                                        <literal>firstLineIndent</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>extraParagraphSpace</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>leading</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>multipliedLeading</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>spacingBefore</literal> &mdash; The blank space to be inserted
                                        before the element. </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>spacingAfter</literal> &mdash; The blank space to be inserted after
                                        the element.</para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>indentationLeft</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>indentationRight</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>keepTogether</literal>
                                    </para>
                                </listitem>
                            </itemizedlist>

                            <para>
                                <emphasis>Usage</emphasis>
                            </para>
                            <programlisting>&lt;p:paragraph alignment=&quot;justify&quot;&gt;
    This is a simple document.  It isn't very fancy.
&lt;/p:paragraph&gt;</programlisting>

                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>



        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:text&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>

                            <para> The <literal>text</literal> tag allows text fragments to be produced from application
                                data using normal JSF converter mechanisms. It is very similar to the
                                    <literal>outputText</literal> tag used when rendering HTML documents. </para>

                            <para>
                                <emphasis>Attributes</emphasis>
                            </para>


                            <itemizedlist>
                                <listitem>
                                    <para><literal>value</literal> &mdash; The value to be displayed. This will
                                        typically be a value binding expression.</para>
                                </listitem>
                            </itemizedlist>

                            <para>
                                <emphasis>Usage</emphasis>
                            </para>

                            <programlisting>&lt;p:paragraph&gt;
    The item costs &lt;p:text value=&quot;#{product.price}&quot;&gt;
        &lt;f:convertNumber type=&quot;currency&quot; currencySymbol=&quot;$&quot;/&gt;
    &lt;/p:text&gt;
&lt;/p:paragraph&gt;</programlisting>

                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>



        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:font&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>

                            <para> The font tag defines the default font to be used for all text inside of it. </para>

                            <para>
                                <emphasis>Attributes</emphasis>
                            </para>


                            <itemizedlist>
                                <listitem>
                                    <para><literal>familyName</literal> &mdash; The font family. One of:
                                            <literal>COURIER</literal>, <literal>HELVETICA</literal>,
                                            <literal>TIMES-ROMAN</literal>, <literal>SYMBOL</literal> or
                                            <literal>ZAPFDINGBATS</literal>.</para>
                                </listitem>

                                <listitem>
                                    <para><literal>size</literal> &mdash; The point size of the font.</para>
                                </listitem>

                                <listitem>
                                    <para><literal>style</literal> &mdash; The font styles. Any combination of :
                                            <literal>NORMAL</literal>, <literal>BOLD</literal>,
                                        <literal>ITALIC</literal>, <literal>OBLIQUE</literal>,
                                        <literal>UNDERLINE</literal>, <literal>LINE-THROUGH</literal></para>

                                </listitem>
                            </itemizedlist>
                            <para>
                                <emphasis>Usage</emphasis>
                            </para>

                            <programlisting>&lt;p:font size=&quot;24&quot;&gt;
    &lt;p:paragraph spacingAfter=&quot;50&quot;&gt;My First Document&lt;/p:paragraph&gt;
&lt;/p:font&gt;</programlisting>

                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>



        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:newPage&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>


                            <para><literal>p:newPage</literal> inserts a page break. </para>

                            <!-- 
                    <para>
                        <emphasis>Attributes</emphasis>
                    </para>
                    -->


                            <para>
                                <emphasis>Usage</emphasis>
                            </para>

                            <programlisting>&lt;p:newPage /&gt;</programlisting>

                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>



        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:image&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>


                            <para><literal>p:image</literal> inserts an image into the document. Images can be be loaded
                                from the classpath or from the web application context using the
                                <literal>resource</literal> attribute. </para>



                            <para>Resources can also be dynamically generated by application code. The
                                    <literal>imageData</literal> attribute can specify a value binding expression whose
                                value is a <literal>java.awt.Image</literal> object. </para>




                            <para>
                                <emphasis>Attributes</emphasis>
                            </para>

                            <itemizedlist>
                                <listitem>
                                    <para><literal>resource</literal> &mdash; The location of the image resource to
                                        be included. Resources should be relative to the document root of the web
                                        application. </para>
                                </listitem>
                                <listitem>
                                    <para><literal>value</literal> &mdash; A resource name or a method expression
                                        binding to an application-generated image. </para>
                                </listitem>


                                <listitem>
                                    <para><literal>rotation</literal> &mdash; The rotation of the image in degrees.
                                    </para>
                                </listitem>


                                <listitem>
                                    <para><literal>height</literal> &mdash; The height of the image. </para>
                                </listitem>

                                <listitem>
                                    <para><literal>width</literal> &mdash; The width of the image. </para>
                                </listitem>

                                <listitem>
                                    <para>
                                        <literal>alignment</literal>&mdash; The alignment of the image. (see <xref
                                            linkend="itext.alignment"/> for possible values) </para>

                                </listitem>
                                <listitem>

                                    <para>
                                        <literal>alt</literal> &mdash; Alternative text representation for the
                                        image.</para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>indentationLeft</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>indentationRight</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>spacingBefore</literal> &mdash; The blank space to be inserted
                                        before the element.</para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>spacingAfter</literal> &mdash; The blank space to be inserted after
                                        the element.</para>

                                </listitem>
                                <listitem>

                                    <para>
                                        <literal>widthPercentage</literal>
                                    </para>

                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>initialRotation</literal>
                                    </para>
                                </listitem>
                                <listitem>

                                    <para>
                                        <literal>dpi</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>scalePercent</literal> &mdash; The scaling factor (as a percentage)
                                        to use for the image. This can be expressed as a single percentage value or as
                                        two percentage values representing separate x and y scaling percentages.</para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>wrap</literal>
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>underlying</literal>
                                    </para>
                                </listitem>
                            </itemizedlist>

                            <para>
                                <emphasis>Usage</emphasis>
                            </para>


                            <programlisting>&lt;p:image value=&quot;/jboss.jpg&quot; /&gt;</programlisting>
                            <programlisting>&lt;p:image value=&quot;#{images.chart}&quot; /&gt;</programlisting>


                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>

        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:anchor&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>
                            <para><literal>p:anchor</literal> defines clickable links from a document. It supports the
                                following attributes:</para>


                            <para>
                                <emphasis>Attributes</emphasis>
                            </para>


                            <itemizedlist>
                                <listitem>
                                    <para><literal>name</literal> &mdash; The name of an in-document anchor
                                        destination.</para>

                                </listitem>

                                <listitem>

                                    <para><literal>reference</literal> &mdash; The destination the link refers to.
                                        Links to other points in the document should begin with a "#". For example,
                                        "#link1" to refer to an anchor postion with a <literal>name</literal> of
                                            <literal>link1</literal>. Links may also be a full URL to point to a
                                        resource outside of the document.</para>
                                </listitem>
                            </itemizedlist>


                            <para>
                                <emphasis>Usage</emphasis>
                            </para>
                            <programlisting>&lt;p:listItem&gt;&lt;p:anchor reference=&quot;#reason1&quot;&gt;Reason 1&lt;/p:anchor&gt;&lt;/p:listItem&gt; 
...
&lt;p:paragraph&gt;
    &lt;p:anchor name=&quot;reason1&quot;&gt;It&apos;s the quickest way to get &quot;rich&quot;&lt;/p:anchor&gt; 
    ... 
&lt;/p:paragraph&gt;</programlisting>

                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>

    </section>

    <section id="itext.header">
        <title>Headers and Footers</title>



        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:header&gt;</literal>
                            </para>
                            <para>
                                <literal>&lt;p:footer&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>
                            <para>The <literal>p:header</literal> and <literal>p:footer</literal> components provide the
                                ability to place header and footer text on each page of a generated document, with the
                                exception of the first page. Header and footer declarations should appear near the top
                                of a document. </para>


                            <para>
                                <emphasis>Attributes</emphasis>
                            </para>


                            <itemizedlist>


                                <listitem>
                                    <para>
                                        <literal>alignment</literal> &mdash; The alignment of the header/footer box
                                        section. (see <xref linkend="itext.alignment"/> for alignment values)</para>

                                </listitem>

                                <listitem>
                                    <para><literal>backgroundColor</literal> &mdash; The background color of the
                                        header/footer box. (see <xref linkend="itext.color"/> for color values) </para>
                                </listitem>




                                <listitem>
                                    <para><literal>borderColor</literal> &mdash; The border color of the
                                        header/footer box. Individual border sides can be set using
                                            <literal>borderColorLeft</literal>, <literal>borderColorRight</literal>,
                                            <literal>borderColorTop</literal> and
                                        <literal>borderColorBottom</literal>.(see <xref linkend="itext.color"/> for
                                        color values) </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>borderWidth</literal> &mdash; The width of the border. Inidvidual
                                        border sides can be specified using <literal>borderWidthLeft</literal>,
                                            <literal>borderWidthRight</literal>, <literal>borderWidthTop</literal> and
                                            <literal>borderWidthBottom</literal>.</para>
                                </listitem>
                            </itemizedlist>
                            <para>
                                <emphasis>Usage</emphasis>
                            </para>
                            <programlisting>&lt;p:facet name=&quot;header&quot;&gt;
  &lt;p:font size=&quot;12&quot;&gt;
    &lt;p:footer borderWidthTop=&quot;1&quot; borderColorTop=&quot;blue&quot; 
              borderWidthBottom=&quot;0&quot; alignment=&quot;center&quot;&gt;
        Why Seam? [&lt;p:pageNumber /&gt;]
    &lt;/p:footer&gt;
  &lt;/p:font&gt;
&lt;/f:facet&gt;</programlisting>

                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>



        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:pageNumber&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>
                            <para>The current page number can be placed inside of a header or footer using the
                                    <literal>p:pageNumber</literal> tag. The page number tag can only be used in the
                                context of a header or footer and can only be used once.</para>
                            <para>
                                <emphasis>Usage</emphasis>
                            </para>
                            <programlisting>&lt;p:footer borderWidthTop=&quot;1&quot; borderColorTop=&quot;blue&quot; 
          borderWidthBottom=&quot;0&quot; alignment=&quot;center&quot;&gt;
    Why Seam? [&lt;p:pageNumber /&gt;]
&lt;/p:footer&gt;</programlisting>

                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>
    </section>




    <section id="itext.chapters">
        <title>Chapters and Sections</title>

        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:chapter&gt;</literal>
                            </para>
                            <para>
                                <literal>&lt;p:section&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>

                            <para>If the generated document follows a book/article structure, the
                                <literal>p:chapter</literal> and <literal>p:section</literal> tags can be used to
                                provide the necessary structure. Sections can only be used inside of chapters, but they
                                may be nested arbitrarily deep. Most PDF viewers provide easy navigation between
                                chapters and sections in a document. </para>

                            <para>
                                <emphasis>Attributes</emphasis>
                            </para>


                            <itemizedlist>


                                <listitem>
                                    <para>
                                        <literal>alignment</literal> &mdash; The alignment of the header/footer box
                                        section. (see <xref linkend="itext.alignment"/> for alignment values)</para>

                                </listitem>

                                <listitem>
                                    <para><literal>number</literal> &mdash; The chapter number. Every chapter should
                                        be assigned a chapter number.</para>
                                </listitem>

                                <listitem>
                                    <para><literal>numberDepth</literal> &mdash; The depth of numbering for section.
                                        All sections are numbered relative to their surrounding chapter/sections. The
                                        fourth section of of the first section of chapter three would be section 3.1.4,
                                        if displayed at the default number depth of three. To omit the chapter number, a
                                        number depth of 2 should be used. In that case, the section number would be
                                        displayed as 1.4.</para>
                                </listitem>
                            </itemizedlist>
                            <para>
                                <emphasis>Usage</emphasis>
                            </para>

                            <programlisting>&lt;p:document xmlns:p=&quot;http://jboss.com/products/seam/pdf&quot;
            title=&quot;Hello&quot;&gt;

   &lt;p:chapter number=&quot;1&quot;&gt;
      &lt;p:title&gt;&lt;p:paragraph&gt;Hello&lt;/p:paragraph&gt;&lt;/p:title&gt;
      &lt;p:paragraph&gt;Hello #{user.name}!&lt;/p:paragraph&gt;
   &lt;/p:chapter&gt;

   &lt;p:chapter number=&quot;2&quot;&gt;
      &lt;p:title&gt;&lt;p:paragraph&gt;Goodbye&lt;/p:paragraph&gt;&lt;/p:title&gt;
      &lt;p:paragraph&gt;Goodbye #{user.name}.&lt;/p:paragraph&gt;
   &lt;/p:chapter&gt;

&lt;/p:document&gt; </programlisting>


                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>


        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:header&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>

                            <para>Any chapter or section can contain a <literal>p:title</literal>. The title will be
                                displayed next to the chapter/section number. The body of the title may contain raw text
                                or may be a <literal>p:paragraph</literal>. </para>

                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>
    </section>


    <section id="itext.list">
        <title>Lists</title>

        <para>List structures can be displayed using the <literal>p:list</literal> and <literal>p:listItem</literal>
            tags. Lists may contain arbitrarily-nested sublists. List items may not be used outside of a list. he
            following document uses the <literal>ui:repeat</literal> tag to to display a list of values retrieved from a
            Seam component. </para>

        <programlisting>&lt;p:document xmlns:p=&quot;http://jboss.com/products/seam/pdf&quot;
            xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;
            title=&quot;Hello&quot;&gt;
   &lt;p:list style=&quot;numbered&quot;&gt;
      &lt;ui:repeat value=&quot;#{documents}&quot; var=&quot;doc&quot;&gt;
         &lt;p:listItem&gt;#{doc.name}&lt;/p:listItem&gt;
      &lt;/ui:repeat&gt;
   &lt;/p:list&gt;
&lt;/p:document&gt;</programlisting>



        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:list&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <!-- 
                    <para>
                        <emphasis>Description</emphasis>
                    </para>
                    <para>...</para>
                    -->
                            <para>
                                <emphasis>Attributes</emphasis>
                            </para>

                            <itemizedlist>

                                <listitem>
                                    <para><literal>style</literal> &mdash; The ordering/bulleting style of list. One
                                        of: <literal>NUMBERED</literal>, <literal>LETTERED</literal>,
                                        <literal>GREEK</literal>, <literal>ROMAN</literal>,
                                        <literal>ZAPFDINGBATS</literal>, <literal>ZAPFDINGBATS_NUMBER</literal>. If no
                                        style is given, the list items are bulleted.</para>
                                </listitem>
                                <listitem>
                                    <para><literal>listSymbol</literal> &mdash; For bulleted lists, specifies the
                                        bullet symbol. </para>
                                </listitem>

                                <listitem>
                                    <para><literal>indent</literal> &mdash; The indentation level of the
                                    list.</para>
                                </listitem>


                                <listitem>
                                    <para><literal>lowerCase</literal> &mdash; For list styles using letters,
                                        indicates whether the letters should be lower case.</para>
                                </listitem>


                                <listitem>
                                    <para><literal>charNumber</literal> &mdash; For ZAPFDINGBATS, indicates the
                                        character code of the bullet character.</para>
                                </listitem>


                                <listitem>
                                    <para><literal>numberType</literal> &mdash; For ZAPFDINGBATS_NUMBER, indicates
                                        the numbering style.</para>
                                </listitem>

                            </itemizedlist>
                            <para>
                                <emphasis>Usage</emphasis>
                            </para>
                            <programlisting>&lt;p:list style=&quot;numbered&quot;&gt;
  &lt;ui:repeat value=&quot;#{documents}&quot; var=&quot;doc&quot;&gt;
    &lt;p:listItem&gt;#{doc.name}&lt;/p:listItem&gt;
  &lt;/ui:repeat&gt;
&lt;/p:list&gt;</programlisting>

                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>


        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:listItem&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>
                            <para><literal>p:listItem</literal> supports the following attributes:</para>

                            <para>
                                <emphasis>Attributes</emphasis>
                            </para>


                            <itemizedlist>


                                <listitem>
                                    <para>
                                        <literal>alignment</literal> &mdash; The alignment of the header/footer box
                                        section. (see <xref linkend="itext.alignment"/> for alignment values)</para>

                                </listitem>

                                <listitem>
                                    <para><literal>alignment</literal> &mdash; The alignment of the list item. (See
                                            <xref linkend="itext.alignment"/> for possible values)</para>
                                </listitem>


                                <listitem>
                                    <para><literal>indentationLeft</literal> &mdash; The left indentation
                                    amount.</para>
                                </listitem>



                                <listitem>
                                    <para><literal>indentationRight</literal> &mdash; The right indentation
                                    amount.</para>
                                </listitem>



                                <listitem>
                                    <para><literal>listSymbol</literal> &mdash; Overrides the default list symbol
                                        for this list item.</para>
                                </listitem>


                            </itemizedlist>
                            <para>
                                <emphasis>Usage</emphasis>
                            </para>
                            <programlisting>...</programlisting>

                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>




    </section>

    <section id="itext.tables">
        <title>Tables</title>

        <para>Table structures can be created using the <literal>p:table</literal> and <literal>p:cell</literal> tags.
            Unlike many table structures, there is no explicit row declaration. If a table has 3 columns, then every 3
            cells will automatically form a row. Header and footer rows can be declared, and the headers and footers
            will be repeated in the event a table structure spans multiple pages.</para>

        <programlisting>&lt;p:document xmlns:p=&quot;http://jboss.com/products/seam/pdf&quot;   
            xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;
            title=&quot;Hello&quot;&gt;   
   &lt;p:table columns=&quot;3&quot; headerRows=&quot;1&quot;&gt;
      &lt;p:cell&gt;name&lt;/p:cell&gt;
      &lt;p:cell&gt;owner&lt;/p:cell&gt;
      &lt;p:cell&gt;size&lt;/p:cell&gt;
      &lt;ui:repeat value=&quot;#{documents}&quot; var=&quot;doc&quot;&gt;
         &lt;p:cell&gt;#{doc.name}&lt;/p:cell&gt;
         &lt;p:cell&gt;#{doc.user.name}&lt;/p:cell&gt;
         &lt;p:cell&gt;#{doc.size}&lt;/p:cell&gt;
      &lt;/ui:repeat&gt;
   &lt;/p:table&gt;
&lt;/p:document&gt;  </programlisting>



        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:table&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>
                            <para><literal>p:table</literal> supports the following attributes.</para>

                            <para>
                                <emphasis>Attributes</emphasis>
                            </para>

                            <itemizedlist>


                                <listitem>
                                    <para><literal>columns</literal> &mdash; The number of columns (cells) that make
                                        up a table row.</para>
                                </listitem>



                                <listitem>
                                    <para><literal>widths</literal> &mdash; The relative widths of each column.
                                        There should be one value for each column. For example: widths="2 1 1" would
                                        indicate that there are 3 columns and the first column should be twice the size
                                        of the second and third column.</para>
                                </listitem>



                                <listitem>
                                    <para><literal>headerRows</literal> &mdash; The initial number of rows which are
                                        considered to be headers or footer rows and should be repeated if the table
                                        spans multiple pages. </para>
                                </listitem>



                                <listitem>
                                    <para><literal>footerRows</literal> &mdash; The number of rows that are
                                        considered to be footer rows. This value is subtracted from the
                                            <literal>headerRows</literal> value. If document has 2 rows which make up
                                        the header and one row that makes up the footer, <literal>headerRows</literal>
                                        should be set to 3 and <literal>footerRows</literal> should be set to 1</para>
                                </listitem>



                                <listitem>
                                    <para><literal>widthPercentage</literal> &mdash; The percentage of the page
                                        width that the table spans.</para>
                                </listitem>

                                <listitem>
                                    <para><literal>horizontalAlignment</literal> &mdash; The horizontal alignment of
                                        the table. (See <xref linkend="itext.alignment"/> for possible values)</para>
                                </listitem>

                                <listitem>
                                    <para>
                                        <literal>skipFirstHeader</literal>
                                    </para>
                                </listitem>

                                <listitem>
                                    <para>
                                        <literal>runDirection</literal>
                                    </para>
                                </listitem>

                                <listitem>
                                    <para>
                                        <literal>lockedWidth</literal>
                                    </para>
                                </listitem>



                                <listitem>
                                    <para>
                                        <literal>splitRows</literal>
                                    </para>
                                </listitem>



                                <listitem>
                                    <para><literal>spacingBefore</literal> &mdash; The blank space to be inserted
                                        before the element.</para>
                                </listitem>


                                <listitem>
                                    <para><literal>spacingAfter</literal> &mdash; The blank space to be inserted
                                        after the element.</para>
                                </listitem>
                                <listitem>
                                    <para>
                                        <literal>extendLastRow</literal>
                                    </para>
                                </listitem>



                                <listitem>
                                    <para>
                                        <literal>headersInEvent</literal>
                                    </para>
                                </listitem>


                                <listitem>
                                    <para>
                                        <literal>splitLate</literal>
                                    </para>
                                </listitem>



                                <listitem>
                                    <para>
                                        <literal>keepTogether</literal>
                                    </para>
                                </listitem>

                            </itemizedlist>
                            <para>
                                <emphasis>Usage</emphasis>
                            </para>
                            <programlisting>...</programlisting>

                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>

        <informaltable>
            <tgroup cols="2">
                <colspec colnum="1" colwidth="1*"/>
                <colspec colnum="2" colwidth="3*"/>

                <tbody>
                    <row>
                        <entry valign="top">
                            <para>
                                <literal>&lt;p:cell&gt;</literal>
                            </para>
                        </entry>
                        <entry valign="top">
                            <para>
                                <emphasis>Description</emphasis>
                            </para>
                            <para><literal>p:cell</literal> supports the following attributes.</para>

                            <para>
                                <emphasis>Attributes</emphasis>
                            </para>


                            <itemizedlist>

                                <listitem>
                                    <para>
                                        <literal>colspan</literal> &mdash; Cells can span more than one column by
                                        declaring a <literal>colspan</literal> greater than 1. Tables do not have the
                                        ability to span across multiple rows. </para>
                                </listitem>



                                <listitem>
                                    <para><literal>horizontalAlignment</literal> &mdash; The horizontal alignment of
                                        the cell. (see <xref linkend="itext.alignment"/> for possible values)</para>
                                </listitem>



                                <listitem>
                                    <para><literal>verticalAlignment</literal> &mdash; The vertical alignment of the
                                        cell. (see <xref linkend="itext.alignment"/> for possible values)</para>
                                </listitem>



                                <listitem>
                                    <para>
                                        <literal>padding</literal> &mdash; Padding on a given side can also be
                                        specified using <literal>paddingLeft</literal>, <literal>paddingRight</literal>,
                                            <literal>paddingTop</literal> and <literal>paddingBottom</literal>.</para>
                                </listitem>


                                <listitem>
                                    <para>
                                        <literal>useBorderPadding</literal>
                                    </para>
                                </listitem>

                                <listitem>
                                    <para>
                                        <literal>leading</literal>
                                    </para>
                                </listitem>



                                <listitem>
                                    <para>
                                        <literal>multipliedLeading</literal>
                                    </para>
                                </listitem>



                                <listitem>
                                    <para>
                                        <literal>indent</literal>
                                    </para>
                                </listitem>

                                <listitem>
                                    <para>
                                        <literal>verticalAlignment</literal>
                                    </para>
                                </listitem>

                                <listitem>
                                    <para>
                                        <literal>extraParagraphSpace</literal>
                                    </para>
                                </listitem>



                                <listitem>
                                    <para>
                                        <literal>fixedHeight</literal>
                                    </para>
                                </listitem>


                                <listitem>
                                    <para>
                                        <literal>noWrap</literal>
                                    </para>
                                </listitem>

                                <listitem>
                                    <para>
                                        <literal>minimumHeight</literal>
                                    </para>
                                </listitem>


                                <listitem>
                                    <para>
                                        <literal>followingIndent</literal>
                                    </para>
                                </listitem>



                                <listitem>
                                    <para>
                                        <literal>rightIndent</literal>
                                    </para>
                                </listitem>

                                <listitem>
                                    <para>
                                        <literal>spaceCharRatio</literal>
                                    </para>
                                </listitem>

                                <listitem>
                                    <para>
                                        <literal>runDirection</literal>
                                    </para>
                                </listitem>

                                <listitem>
                                    <para>
                                        <literal>arabicOptions</literal>
                                    </para>
                                </listitem>


                                <listitem>
                                    <para>
                                        <literal>useAscender</literal>
                                    </para>
                                </listitem>



                                <listitem>
                                    <para>
                                        <literal>grayFill</literal>
                                    </para>
                                </listitem>

                                <listitem>
                                    <para>
                                        <literal>rotation</literal>
                                    </para>
                                </listitem>

                            </itemizedlist>
                            <para>
                                <emphasis>Usage</emphasis>
                            </para>
                            <programlisting>...</programlisting>

                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>


    </section>

    <section id="itext.constant">
        <title>Document Constants</title>

        <para>This section documents some of the constants shared by attributes on multiple tags. </para>

        <section id="itext.color">
            <title>Color Values</title>
            <para>Seam documents do not yet support a full color specification. Currently, only named colors are
                supported. They are: <literal>white</literal>, <literal>gray</literal>, <literal>lightgray</literal>,
                    <literal>darkgray</literal>, <literal>black</literal>, <literal>red</literal>,
                <literal>pink</literal>, <literal>yellow</literal>, <literal>green</literal>,
                <literal>magenta</literal>, <literal>cyan</literal> and <literal>blue</literal>. </para>

        </section>

        <section id="itext.alignment">
            <title>Alignment Values</title>
            <para> Where alignment values are used, the Seam PDF supports the following horizontal alignment values:
                    <literal>left</literal>, <literal>right</literal>, <literal>center</literal>,
                <literal>justify</literal> and <literal>justifyall</literal>. The vertical alignment values are
                    <literal>top</literal>, <literal>middle</literal>, <literal>bottom</literal>, and
                <literal>baseline</literal>.</para>
        </section>

    </section>

    <section id="itext.configuration">
        <title>Configuring iText</title>

        <para>Document generation works out of the box with no additional configuration needed. However, there are a few
            points of configuration that are needed for more serious applications. </para>

        <para> The default implementation serves PDF documents from a generic URL, <literal>/seam-doc.seam</literal>.
            Many browsers (and users) would prefer to see URLs that contain the actual PDF name like
                <literal>/myDocument.pdf</literal>. This capability requires some configuration. To serve PDF files, all
            *.pdf resources should be mapped to the Seam Servlet Filter and to the DocumentStoreServlet:</para>

        <programlisting>&lt;filter&gt;
    &lt;filter-name&gt;Seam Servlet Filter&lt;/filter-name&gt;
    &lt;filter-class&gt;org.jboss.seam.servlet.SeamServletFilter&lt;/filter-class&gt;
&lt;/filter&gt;

&lt;filter-mapping&gt;
    &lt;filter-name&gt;Seam Servlet Filter&lt;/filter-name&gt;
    &lt;url-pattern&gt;*.pdf&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;

&lt;servlet&gt;
    &lt;servlet-name&gt;Document Store Servlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.jboss.seam.pdf.DocumentStoreServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;Document Store Servlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;*.pdf&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</programlisting>

        <para> The <literal>useExtensions</literal> option on the document store component completes the functionality
            by instructing the document store to generate URLs with the correct filename extension for the document type
            being generated. </para>

        <programlisting>&lt;components xmlns=&quot;http://jboss.com/products/seam/components&quot;
            xmlns:pdf=&quot;http://jboss.com/products/seam/pdf&quot;&gt;
    &lt;pdf:documentStore useExtensions=&quot;true&quot; /&gt;
&lt;/components&gt;</programlisting>

        <para> Generated documents are stored in conversation scope and will expire when the conversation ends. At that
            point, references to the document will be invalid. To You can specify a default view to be shown when a
            document does not exist using the <literal>errorPage</literal> property of the documentStore. </para>
        <programlisting>&lt;pdf:documentStore useExtensions=&quot;true&quot; errorPage=&quot;/pdfMissing.seam&quot; /&gt;</programlisting>
    </section>


    <section id="itext.links">
        <title>Further documentation</title>

        <para>For further information on iText, see:</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para>
                        <ulink url="http://www.lowagie.com/iText/">iText Home Page</ulink>
                    </para>
                </listitem>
                <listitem>
                    <para>
                        <ulink url="http://www.manning.com/lowagie/">iText in Action</ulink>
                    </para>
                </listitem>
            </itemizedlist>

        </para>
    </section>
</chapter>
