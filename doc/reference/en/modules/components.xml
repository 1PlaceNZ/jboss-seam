<chapter id="components">
    <title>Built-in Seam components</title>
    <para>
        This chapter describes Seam's built-in components, and their
        configuration properties.
    </para>
    
    <section>
        <title>Context injection components</title>
        <para>
            The first set of build in components exist purely to support
            injection of various contextual objects. For example, the
            following component instance variable would have the Seam
            session context object injected:
        </para>
        
        <programlisting><![CDATA[@In private Context sessionContext;]]></programlisting>
    
    	<variablelist spacing="compact">
            <varlistentry>
                <term><literal>eventContext</literal></term>
                <listitem>
                    <para>
                        Manager component for the event context object
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><literal>conversationContext</literal></term>
                <listitem>
                    <para>
                        Manager component for the conversation context object
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><literal>sessionContext</literal></term>
                <listitem>
                    <para>
                        Manager component for the session context object
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><literal>applicationContext</literal></term>
                <listitem>
                    <para>
                        Manager component for the appication context object
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><literal>businessProcessContext</literal></term>
                <listitem>
                    <para>
                        Manager component for the business process context object
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><literal>statelessContext</literal></term>
                <listitem>
                    <para>
                        Manager component for the stateless context object
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><literal>facesContext</literal></term>
                <listitem>
                    <para>
                        Manager component for the <literal>FacesContext</literal> context object
                        (not a true Seam context)
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
        
        <para>
            All of these components are always installed.
        </para>
        
    </section>
    
    <section>
        <title>Infrastructural components</title>
        <para>
            These components provide critical platform infrastructure. You can install a component
            by including its class name in the <literal>org.jboss.seam.core.init.componentClasses</literal>
            configuration property.
        </para>
        
    	<variablelist spacing="compact">
            <varlistentry>
                <term><literal>org.jboss.seam.core.init</literal></term>
                <listitem>
                    <para>
                        Initialization settings for Seam. Always installed.
                    </para>
                    <itemizedlist>
                        <listitem>
                        <para>
                            <literal>org.jboss.seam.core.init.componentClasses</literal> &mdash; a list of class 
                            names of Seam components to be installed. (The class name, not the component name!)
                        </para>
                        </listitem>
                        <listitem>
                        <para>
                            <literal>org.jboss.seam.core.init.managedPersistenceContexts</literal> &mdash; a 
                            list of component names of Seam managed persistence contexts to be installed.
                        </para>
                        </listitem>
                        <listitem>
                        <para>
                            <literal>org.jboss.seam.core.init.managedSessions</literal> &mdash; a list of 
                            component names of Seam managed Hibernate sessions to be installed.
                        </para>
                        </listitem>
                        <listitem>
                        <para>
                            <literal>org.jboss.seam.core.init.managedDataSources</literal> &mdash; a list 
                            of component names of of Seam managed datasources to be installed.
                        </para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><literal>org.jboss.seam.core.manager</literal></term>
                <listitem>
                    <para>
                        Internal component for Seam context management. Always installed.
                    </para>
                    <itemizedlist>
                        <listitem>
                        <para>
                            <literal>org.jboss.seam.core.manager.conversationTimeout</literal> &mdash; 
                            the conversation context timeout in milliseconds.
                        </para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><literal>org.jboss.seam.core.ejb</literal></term>
                <listitem>
                    <para>
                        Bootstraps the JBoss Embeddable EJB3 container. Install as
                        class <literal>org.jboss.seam.core.Ejb</literal>.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><literal>org.jboss.seam.core.jndi</literal></term>
                <listitem>
                    <para>
                        Bootstraps the JBoss JNDI naming server. Install as
                        class <literal>org.jboss.seam.core.Jndi</literal>.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><literal>org.jboss.seam.core.jta</literal></term>
                <listitem>
                    <para>
                        Bootstraps the JBoss local JTA transaction manager. Install as
                        class <literal>org.jboss.seam.core.Jta</literal>.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><literal>org.jboss.seam.core.hibernate</literal></term>
                <listitem>
                    <para>
                        Bootstraps a Hibernate <literal>SessionFactory</literal>. Install as
                        class <literal>org.jboss.seam.core.Hibernate</literal>.
                    </para>
                    <itemizedlist>
                        <listitem>
                        <para>
                            <literal>org.jboss.seam.core.hibernate.cfgResourceName</literal> &mdash; 
                            the path to the configuration file. Default to <literal>hibernate.cfg.xml</literal>.
                        </para>
                        </listitem>
                    </itemizedlist>
                    <itemizedlist>
                        <listitem>
                        <para>
                            <literal>org.jboss.seam.core.hibernate.datasourceName</literal> &mdash; 
                            the name of the datasource component. Default to the JNDI name of the
                            datasource known from the configuration file.
                        </para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </varlistentry>
       </variablelist>
   </section>

    <section>
        <title>Special components</title>
        <para>
            Certain special Seam component classes are installable multiple times under names
            specified in the Seam configuration. For example, the following lines in 
            <literal>seam.properties</literal> install and configure two Seam components:
        </para>
        
        <programlisting><![CDATA[org.jboss.seam.init.managedPersistenceContexts bookingDatabase, userDatabase
bookingDatabase.persistenceUnitName java:/comp/emf/bookingPersistence
userDatabase.persistenceUnitName java:/comp/emf/userPersistence]]></programlisting>
        
        <para>
            The Seam component names are <literal>bookingDatabase</literal> and 
            <literal>userDatabase</literal>.
        </para>
        
    	<variablelist spacing="compact">
            <varlistentry>
                <term><literal><emphasis>&lt;managedPersistenceContext&gt;</emphasis></literal></term>
                <listitem>
                    <para>
                        Manager component for a conversation scoped managed <literal>EntityManager</literal>
                        with an extended persistence context. Installed via 
                        <literal>org.jboss.seam.init.managedPersistenceContexts</literal>.
                    </para>
                    <itemizedlist>
                        <listitem>
                        <para>
                            <literal><emphasis>&lt;managedPersistenceContext&gt;</emphasis>.persistenceUnitName</literal> 
                            &mdash; the JNDI name of the entity manager factory, defaults to the component name.
                        </para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><literal><emphasis>&lt;managedSession&gt;</emphasis></literal></term>
                <listitem>
                    <para>
                        Manager component for a conversation scoped managed Hibernate <literal>Session</literal>.  
                        Installed via <literal>org.jboss.seam.init.managedSessions</literal>.
                    </para>
                    <itemizedlist>
                        <listitem>
                        <para>
                            <literal><emphasis>&lt;managedSession&gt;</emphasis>.sessionFactoryName</literal> 
                            &mdash; the JNDI name of the session factory, defaults to to the component name.
                        </para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><literal><emphasis>&lt;managedDataSource&gt;</emphasis></literal></term>
                <listitem>
                    <para>
                        Manager component for a JBoss JCA datasource.  Installed via 
                        <literal>org.jboss.seam.init.managedDataSources</literal>.
                    </para>
                    <itemizedlist>
                        <listitem>
                        <para>
                            <literal><emphasis>&lt;managedDataSource&gt;</emphasis>.jndiName</literal> &mdash;
                            the JNDI name of the datasource, defaults to to the component name.
                        </para>
                        </listitem>
                        <listitem>
                        <para>
                            <literal><emphasis>&lt;managedDataSource&gt;</emphasis>.connectionUrl</literal>
                            &mdash; the JDBC URL
                        </para>
                        </listitem>
                        <listitem>
                        <para>
                            <literal><emphasis>&lt;managedDataSource&gt;</emphasis>.driverClass</literal>
                            &mdash; the JDBC driver class
                        </para>
                        </listitem>
                        <listitem>
                        <para>
                            <literal><emphasis>&lt;managedDataSource&gt;</emphasis>.userName</literal>
                        </para>
                        </listitem>
                        <listitem>
                        <para>
                            <literal><emphasis>&lt;managedDataSource&gt;</emphasis>.password</literal>
                        </para>
                        </listitem>
                        <listitem>
                        <para>
                            <literal><emphasis>&lt;managedDataSource&gt;</emphasis>.maxSize</literal>
                        </para>
                        </listitem>
                        <listitem>
                        <para>
                            <literal><emphasis>&lt;managedDataSource&gt;</emphasis>.minSize</literal>
                        </para>
                        </listitem>
                        <listitem>
                        <para>
                            <literal><emphasis>&lt;managedDataSource&gt;</emphasis>.blockingTimeout</literal>
                        </para>
                        </listitem>
                        <listitem>
                        <para>
                            <literal><emphasis>&lt;managedDataSource&gt;</emphasis>.idleTimeout</literal>
                        </para>
                        </listitem>
                        <listitem>
                        <para>
                            <literal><emphasis>&lt;managedDataSource&gt;</emphasis>.preparedStatementCacheSize</literal>
                        </para>
                        </listitem>
                        <listitem>
                        <para>
                            <literal><emphasis>&lt;managedDataSource&gt;</emphasis>.checkValidConnectionSql</literal>
                        </para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </varlistentry>
        </variablelist>
    </section>
    
</chapter>
