<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>6.4. Using &lt;s:link&gt; and &lt;s:button&gt;</title>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
      <link rel="start" href="index.html" title="Seam - Contextual Components"/>
      <link rel="up" href="conversations.html" title="Chapter 6. Conversations and workspace management"/>
      <link rel="prev" href="ch06s03.html" title="6.3. Starting conversations with GET requests"/>
      <link rel="next" href="ch06s05.html" title="6.5. Success messages"/>
   </head>
   <body>
      <p id="title">
         <a href="http://www.jboss.org" class="jbossOrg_href">
            <strong>
						        JBoss.org	
						</strong>
         </a>
         <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
            <strong>
						        Community Documentation	
						</strong>
         </a>
      </p>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="ch06s03.html">
               <strong>Prev</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="ch06s05.html">
               <strong>Next</strong>
            </a>
         </li>
      </ul>
      <div class="section" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title">
                     <a id="d0e4957"/>6.4. Using <code class="literal">&lt;s:link&gt;</code> and <code class="literal">&lt;s:button&gt;</code>
                  </h2>
               </div>
            </div>
         </div>
         <p>
            JSF command links always perform a form submission via JavaScript, 
            which breaks the web browser's "open in new window" or "open in new tab"
            feature. In plain JSF, you need to use an <code class="literal">&lt;h:outputLink&gt;</code>
            if you need this functionality. But there are two major limitations to 
            <code class="literal">&lt;h:outputLink&gt;</code>.
        </p>
         <div class="itemizedlist">
            <ul>
               <li>
                  <p>
            JSF provides no way to attach an action listener to an 
            <code class="literal">&lt;h:outputLink&gt;</code>.
        </p>
               </li>
               <li>
                  <p>
            JSF does not propagate the selected row of a <code class="literal">DataModel</code> 
            since there is no actual form submission.
        </p>
               </li>
            </ul>
         </div>
         <p>
            Seam provides the notion of a <span class="emphasis">
               <em>page action</em>
            </span> to help 
            solve the first problem, but this does nothing to help us with the second 
            problem. We <span class="emphasis">
               <em>could</em>
            </span> work around this by using the
            RESTful approach of passing a request parameter and requerying
            for the selected object on the server side. In some cases—such as the 
            Seam blog example application—this is indeed the best approach. The 
            RESTful style supports bookmarking, since it does not require server-side state. 
            In other cases, where we don't care about bookmarks, the use of 
            <code class="literal">@DataModel</code> and <code class="literal">@DataModelSelection</code> is 
            just so convenient and transparent!
        </p>
         <p>
            To fill in this missing functionality, and to make conversation propagation
            even simpler to manage, Seam provides the <code class="literal">&lt;s:link&gt;</code>
            JSF tag.
        </p>
         <p>
            The link may specify just the JSF view id:
        </p>
         <pre class="programlisting">&lt;s:link view="/login.xhtml" value="Login"/&gt;</pre>
         <p>
            Or, it may specify an action method (in which case the action outcome determines
            the page that results):
        </p>
         <pre class="programlisting">&lt;s:link action="#{login.logout}" value="Logout"/&gt;</pre>
         <p>
            If you specify <span class="emphasis">
               <em>both</em>
            </span> a JSF view id and an action method, the
            'view' will be used <span class="emphasis">
               <em>unless</em>
            </span> the action method returns a
            non-null outcome:
        </p>
         <pre class="programlisting">&lt;s:link view="/loggedOut.xhtml"  action="#{login.logout}" value="Logout"/&gt;</pre>
         <p>
            The link automatically propagates the selected row of a <code class="literal">DataModel</code>
            using inside <code class="literal">&lt;h:dataTable&gt;</code>:
        </p>
         <pre class="programlisting">&lt;s:link view="/hotel.xhtml" action="#{hotelSearch.selectHotel}" value="#{hotel.name}"/&gt;</pre>
         <p>
            You can leave the scope of an existing conversation:
        </p>
         <pre class="programlisting">&lt;s:link view="/main.xhtml" propagation="none"/&gt;</pre>
         <p>
            You can begin, end, or nest conversations:
        </p>
         <pre class="programlisting">&lt;s:link action="#{issueEditor.viewComment}" propagation="nest"/&gt;</pre>
         <p>
            If the link begins a conversation, you can even specify a pageflow to be used:
        </p>
         <pre class="programlisting">&lt;s:link action="#{documentEditor.getDocument}" propagation="begin"
        pageflow="EditDocument"/&gt;</pre>
         <p>
            The <code class="literal">taskInstance</code> attribute if for use in jBPM task lists:
        </p>
         <pre class="programlisting">&lt;s:link action="#{documentApproval.approveOrReject}" taskInstance="#{task}"/&gt;</pre>
         <p>
            (See the DVD Store demo application for examples of this.)
        </p>
         <p>
            Finally, if you need the "link" to be rendered as a button, use <code class="literal">&lt;s:button&gt;</code>:
        </p>
         <pre class="programlisting">&lt;s:button action="#{login.logout}" value="Logout"/&gt;</pre>
      </div>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="ch06s03.html">
               <strong>Prev</strong>6.3. Starting conversations with GET requests</a>
         </li>
         <li class="up">
            <a accesskey="u" href="#">
               <strong>Top of page</strong>
            </a>
         </li>
         <li class="home">
            <a accesskey="h" href="index.html">
               <strong>Front page</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="ch06s05.html">
               <strong>Next</strong>6.5. Success messages</a>
         </li>
      </ul>
   </body>
</html>