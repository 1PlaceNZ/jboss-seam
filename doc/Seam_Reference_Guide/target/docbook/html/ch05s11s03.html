<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>5.11.3. Using annotations for exception handling</title>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
      <link rel="start" href="index.html" title="Seam - Contextual Components"/>
      <link rel="up" href="ch05s11.html" title="5.11. Managing exceptions"/>
      <link rel="prev" href="ch05s11s02.html" title="5.11.2. Enabling Seam exception handling"/>
      <link rel="next" href="ch05s11s04.html" title="5.11.4. Using XML for exception handling"/>
   </head>
   <body>
      <p id="title">
         <a href="http://www.jboss.org" class="jbossOrg_href">
            <strong>
						        JBoss.org	
						</strong>
         </a>
         <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
            <strong>
						        Community Documentation	
						</strong>
         </a>
      </p>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="ch05s11s02.html">
               <strong>Prev</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="ch05s11s04.html">
               <strong>Next</strong>
            </a>
         </li>
      </ul>
      <div class="section" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title">
                     <a id="d0e4561"/>5.11.3. Using annotations for exception handling</h3>
               </div>
            </div>
         </div>
         <p>
            The following exception results in a HTTP 404 error whenever it propagates out of the
            Seam component layer. It does not roll back the current transaction immediately when 
            thrown, but the transaction will be rolled back if it the exception is not caught by
            another Seam component.
        </p>
         <pre class="programlisting">@HttpError(errorCode=404)
public class ApplicationException extends Exception { ... }</pre>
         <p>
            This exception results in a browser redirect whenever it propagates out of the
            Seam component layer. It also ends the current conversation. It causes an immediate 
            rollback of the current transaction.
        </p>
         <pre class="programlisting">@Redirect(viewId="/failure.xhtml", end=true)
@ApplicationException(rollback=true)
public class UnrecoverableApplicationException extends RuntimeException { ... }</pre>
         <p>
            Note that <code class="literal">@Redirect</code> does not work for exceptions
            which occur during the render phase of the JSF lifecycle.
        </p>
         <p>
            You can also use EL to specify the <code class="literal">viewId</code> to redirect to.
        </p>
         <p>
            This exception results in a redirect, along with a message to the user, when it 
            propagates out of the Seam component layer. It also immediately rolls back the 
            current transaction.
        </p>
         <pre class="programlisting">@Redirect(viewId="/error.xhtml", message="Unexpected error")
public class SystemException extends RuntimeException { ... }</pre>
      </div>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="ch05s11s02.html">
               <strong>Prev</strong>5.11.2. Enabling Seam exception handling</a>
         </li>
         <li class="up">
            <a accesskey="u" href="#">
               <strong>Top of page</strong>
            </a>
         </li>
         <li class="home">
            <a accesskey="h" href="index.html">
               <strong>Front page</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="ch05s11s04.html">
               <strong>Next</strong>5.11.4. Using XML for exception handling</a>
         </li>
      </ul>
   </body>
</html>