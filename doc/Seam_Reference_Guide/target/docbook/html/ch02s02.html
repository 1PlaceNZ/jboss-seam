<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>2.2. Setting up a new Eclipse project</title>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
      <link rel="start" href="index.html" title="Seam - Contextual Components"/>
      <link rel="up" href="gettingstarted.html" title="Chapter 2. Getting started with Seam, using seam-gen"/>
      <link rel="prev" href="ch02s01.html" title="2.1. Before you start"/>
      <link rel="next" href="ch02s03.html" title="2.3. Creating a new action"/>
   </head>
   <body>
      <p id="title">
         <a href="http://www.jboss.org" class="jbossOrg_href">
            <strong>
						        JBoss.org	
						</strong>
         </a>
         <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
            <strong>
						        Community Documentation	
						</strong>
         </a>
      </p>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="ch02s01.html">
               <strong>Prev</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="ch02s03.html">
               <strong>Next</strong>
            </a>
         </li>
      </ul>
      <div class="section" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title">
                     <a id="d0e2223"/>2.2. Setting up a new Eclipse project</h2>
               </div>
            </div>
         </div>
         <p>The first thing we need to do is configure seam-gen for your environment: JBoss AS installation directory,
            Eclipse workspace, and database connection. It's easy, just type:</p>
         <pre class="programlisting">cd jboss-seam-2.0.x
seam setup</pre>
         <p>And you will be prompted for the needed information:</p>
         <pre class="programlisting">~/workspace/jboss-seam$ ./seam setup
Buildfile: build.xml

init:

setup:
     [echo] Welcome to seam-gen :-)
    [input] Enter your Java project workspace (the directory that contains your Seam projects) [C:/Projects] [C:/Projects]
/Users/pmuir/workspace
    [input] Enter your JBoss home directory [C:/Program Files/jboss-4.2.2.GA] [C:/Program Files/jboss-4.2.2.GA]
/Applications/jboss-4.2.2.GA
    [input] Enter the project name [myproject] [myproject]
helloworld
     [echo] Accepted project name as: helloworld
    [input] Select a RichFaces skin (not applicable if using ICEFaces) [blueSky] ([blueSky], classic, ruby, wine, deepMarine, emeraldTown, sakura, DEFAULT)

    [input] Is this project deployed as an EAR (with EJB components) or a WAR (with no EJB support) [ear]  ([ear], war, )

    [input] Enter the Java package name for your session beans [com.mydomain.helloworld] [com.mydomain.helloworld]
org.jboss.helloworld
    [input] Enter the Java package name for your entity beans [org.jboss.helloworld] [org.jboss.helloworld]

    [input] Enter the Java package name for your test cases [org.jboss.helloworld.test] [org.jboss.helloworld.test]

    [input] What kind of database are you using? [hsql]  ([hsql], mysql, oracle, postgres, mssql, db2, sybase, enterprisedb, h2)
mysql
    [input] Enter the Hibernate dialect for your database [org.hibernate.dialect.MySQLDialect] [org.hibernate.dialect.MySQLDialect]

    [input] Enter the filesystem path to the JDBC driver jar [lib/hsqldb.jar] [lib/hsqldb.jar]
/Users/pmuir/java/mysql.jar
    [input] Enter JDBC driver class for your database [com.mysql.jdbc.Driver] [com.mysql.jdbc.Driver]

    [input] Enter the JDBC URL for your database [jdbc:mysql:///test] [jdbc:mysql:///test]
jdbc:mysql:///helloworld
    [input] Enter database username [sa] [sa]
pmuir
    [input] Enter database password [] []

    [input] skipping input as property hibernate.default_schema.new has already been set.
    [input] Enter the database catalog name (it is OK to leave this blank) [] []

    [input] Are you working with tables that already exist in the database? [n]  (y, [n], )
y
    [input] Do you want to drop and recreate the database tables and data in import.sql each time you deploy? [n]  (y, [n], )
n
    [input] Enter your ICEfaces home directory (leave blank to omit ICEfaces) [] []

[propertyfile] Creating new property file: /Users/pmuir/workspace/jboss-seam/seam-gen/build.properties
     [echo] Installing JDBC driver jar to JBoss server
     [echo] Type 'seam create-project' to create the new project

BUILD SUCCESSFUL
Total time: 1 minute 32 seconds
~/workspace/jboss-seam $ </pre>
         <p>The tool provides sensible defaults, which you can accept by just pressing enter at the prompt.</p>
         <p>The most important choice you need to make is between EAR deployment and WAR deployment of your project.
            EAR projects support EJB 3.0 and require Java EE 5. WAR projects do not support EJB 3.0, but may be deployed
            to a J2EE environment. The packaging of a WAR is also simpler to understand. If you installed an EJB3-ready
            application server like JBoss, choose <code class="literal">ear</code>. Otherwise, choose <code class="literal">war</code>.
            We'll assume that you've chosen an EAR deployment for the rest of the tutorial, but you can follow exactly
            the same steps for a WAR deployment.</p>
         <p>If you are working with an existing data model, make sure you tell seam-gen that the tables already exist
            in the database.</p>
         <p>The settings are stored in <code class="literal">seam-gen/build.properties</code>, but you can also modify them
            simply by running <code class="literal">seam setup</code> a second time.</p>
         <p>Now we can create a new project in our Eclipse workspace directory, by typing:</p>
         <pre class="programlisting">seam new-project</pre>
         <pre class="programlisting">C:\Projects\jboss-seam&gt;seam new-project
Buildfile: build.xml

...

new-project:
     [echo] A new Seam project named 'helloworld' was created in the C:\Projects directory
     [echo] Type 'seam explode' and go to http://localhost:8080/helloworld
     [echo] Eclipse Users: Add the project into Eclipse using File &gt; New &gt; Project and select General &gt; Project (not Java Project)
     [echo] NetBeans Users: Open the project in NetBeans

BUILD SUCCESSFUL
Total time: 7 seconds
C:\Projects\jboss-seam&gt;</pre>
         <p>This copies the Seam jars, dependent jars and the JDBC driver jar to a new Eclipse project, and generates
            all needed resources and configuration files, a facelets template file and stylesheet, along with Eclipse
            metadata and an Ant build script. The Eclipse project will be automatically deployed to an exploded
            directory structure in JBoss AS as soon as you add the project using <code class="literal">New -&gt; Project...
                -&gt; General -&gt; Project -&gt; Next</code>, typing the <code class="literal">Project name</code>
                (<code class="literal">helloworld</code> in this case), and then clicking <code class="literal">Finish</code>. Do not select
                <code class="literal">Java Project</code> from the New Project wizard.</p>
         <p>If your default JDK in Eclipse is not a Java SE 5 or Java SE 6 JDK, you will need to select a Java SE 5
            compliant JDK using <code class="literal">Project -&gt; Properties -&gt; Java Compiler</code>.</p>
         <p>Alternatively, you can deploy the project from outside Eclipse by typing <code class="literal">seam explode</code>.</p>
         <p>Go to <code class="literal">http://localhost:8080/helloworld</code> to see a welcome page. This is a facelets page,
                <code class="literal">view/home.xhtml</code>, using the template <code class="literal">view/layout/template.xhtml</code>.
            You can edit this page, or the template, in eclipse, and see the results <span class="emphasis">
               <em>immediately</em>
            </span>,
            by clicking refresh in your browser.</p>
         <p>Don't get scared by the XML configuration documents that were generated into the project directory. They
            are mostly standard Java EE stuff, the stuff you need to create once and then never look at again, and they
            are 90% the same between all Seam projects. (They are so easy to write that even seam-gen can do it.)</p>
         <p>The generated project includes three database and persistence configurations. The
            <code class="literal">persistence-test.xml</code> and
            <code class="literal">import-test.sql</code> files are used when running the TestNG unit tests against HSQLDB. The
            database schema and the test data in <code class="literal">import-test.sql</code> is always exported to the database
            before running tests. The <code class="literal">myproject-dev-ds.xml</code>, <code class="literal">persistence-dev.xml</code>and
                <code class="literal">import-dev.sql</code> files are for use when deploying the application to your development
            database. The schema might be exported automatically at deployment, depending upon whether you told seam-gen
            that you are working with an existing database. The <code class="literal">myproject-prod-ds.xml</code>,
                <code class="literal">persistence-prod.xml</code>and <code class="literal">import-prod.sql</code> files are for use when
            deploying the application to your production database. The schema is not exported automatically at
            deployment.</p>
      </div>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="ch02s01.html">
               <strong>Prev</strong>2.1. Before you start</a>
         </li>
         <li class="up">
            <a accesskey="u" href="#">
               <strong>Top of page</strong>
            </a>
         </li>
         <li class="home">
            <a accesskey="h" href="index.html">
               <strong>Front page</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="ch02s03.html">
               <strong>Next</strong>2.3. Creating a new action</a>
         </li>
      </ul>
   </body>
</html>