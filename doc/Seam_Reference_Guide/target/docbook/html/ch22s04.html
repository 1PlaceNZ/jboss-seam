<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>22.4. GWT Ant Targets</title>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
      <link rel="start" href="index.html" title="Seam - Contextual Components"/>
      <link rel="up" href="gwt.html" title="Chapter 22. Seam and the Google Web Toolkit"/>
      <link rel="prev" href="ch22s03.html" title="22.3. Hooking up a GWT widget to the Seam component"/>
      <link rel="next" href="spring.html" title="Chapter 23. Spring Framework integration"/>
   </head>
   <body>
      <p id="title">
         <a href="http://www.jboss.org" class="jbossOrg_href">
            <strong>
						        JBoss.org	
						</strong>
         </a>
         <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
            <strong>
						        Community Documentation	
						</strong>
         </a>
      </p>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="ch22s03.html">
               <strong>Prev</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="spring.html">
               <strong>Next</strong>
            </a>
         </li>
      </ul>
      <div class="section" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title">
                     <a id="d0e14761"/>22.4. GWT Ant Targets</h2>
               </div>
            </div>
         </div>
         <p>
      For deployment of GWT apps, there is a compile-to-Javascript step (which compacts and obfuscates the code).  There is an
      ant utility which can be used instead of the command line or GUI utility that GWT provides.  To use this, you will need
      to have the ant task jar in your ant classpath, as well as GWT downloaded (which you will need for hosted mode anyway).
    </p>
         <p>
      Then, in your ant file, place (near the top of your ant file):
    </p>
         <pre class="programlisting">  &lt;taskdef uri="antlib:de.samaflost.gwttasks"
                resource="de/samaflost/gwttasks/antlib.xml"
                classpath="./lib/gwttasks.jar"/&gt;
   
  &lt;property file="build.properties"/&gt;</pre>
         <p>
      Create a <code class="literal">build.properties</code> file, which has the contents:
    </p>
         <pre class="programlisting">gwt.home=/gwt_home_dir</pre>
         <p>
      This of course should point to the directory where GWT is installed.  Then to use it, create a target:
    </p>
         <pre class="programlisting">  &lt;!-- the following are are handy utilities for doing GWT development.
      To use GWT, you will of course need to download GWT seperately --&gt;
  &lt;target name="gwt-compile"&gt;
      &lt;!-- in this case, we are "re homing" the gwt generated stuff, so in this case
      we can only have one GWT module - we are doing this deliberately to keep the URL short --&gt;
      &lt;delete&gt;
          &lt;fileset dir="view"/&gt;
      &lt;/delete&gt;
      &lt;gwt:compile outDir="build/gwt"
          gwtHome="${gwt.home}"
          classBase="${gwt.module.name}"
          sourceclasspath="src"/&gt;
      &lt;copy todir="view"&gt;
          &lt;fileset dir="build/gwt/${gwt.module.name}"/&gt;
      &lt;/copy&gt;
  &lt;/target&gt;</pre>
         <p>
      This target when called will compile the GWT application, and copy it to the specified directory (which would be
      in the <code class="literal">webapp</code> part of your war - remember GWT generates HTML and Javascript artifacts).  You
      never edit the resulting code that <code class="literal">gwt-compile</code> generates - you always edit in the GWT source
      directory.
    </p>
         <p>
      Remember that GWT comes with a hosted mode browser - you should be using that if you are developing with GWT.  If you
      aren't using that, and are just compiling it each time, you aren't getting the most out of the toolkit (in fact, if
      you can't or won't use the hosted mode browser, I would go far as to say you should NOT be using GWT at all - it's
      that valuable!).
    </p>
      </div>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="ch22s03.html">
               <strong>Prev</strong>22.3. Hooking up a GWT widget to the Seam compone...</a>
         </li>
         <li class="up">
            <a accesskey="u" href="#">
               <strong>Top of page</strong>
            </a>
         </li>
         <li class="home">
            <a accesskey="h" href="index.html">
               <strong>Front page</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="spring.html">
               <strong>Next</strong>Chapter 23. Spring Framework integration</a>
         </li>
      </ul>
   </body>
</html>