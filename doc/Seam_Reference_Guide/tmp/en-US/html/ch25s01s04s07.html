<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head xmlns="http://www.w3.org/1999/xhtml">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>25.1.4.7. Context management for custom servlets</title>
    <link rel="stylesheet" href="./Common_Content/css/default.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.72.0" />
    <link rel="start" href="index.html" title="Seam - Contextual Components" />
    <link rel="up" href="ch25s01s04.html" title="25.1.4. Seam servlet filters" />
    <link rel="prev" href="ch25s01s04s06.html" title="25.1.4.6. Identity Logging" />
    <link rel="next" href="ch25s01s04s08.html" title="25.1.4.8. Adding custom filters" />
  </head>
  <body>
    <p xmlns="http://www.w3.org/1999/xhtml" id="title">
      <a href="http://www.redhat.com/docs">
        <strong>25.1.4.7. Context management for custom servlets</strong>
      </a>
    </p>
    <ul xmlns="http://www.w3.org/1999/xhtml" class="docnav">
      <li class="previous">
        <a accesskey="p" href="ch25s01s04s06.html">
          <strong>Prev</strong>
        </a>
      </li>
      <li class="next">
        <a accesskey="n" href="ch25s01s04s08.html">
          <strong>Next</strong>
        </a>
      </li>
    </ul>
    <div xmlns="http://www.w3.org/1999/xhtml" class="sect3" lang="en-US" xml:lang="en-US">
      <div class="titlepage">
        <div>
          <div>
            <h4 class="title"><a id="id2863509"></a>25.1.4.7. Context management for custom servlets</h4>
          </div>
        </div>
      </div>
      <p>
		Requests sent direct to some servlet other than the JSF servlet are not processed through the JSF lifecycle, so Seam provides a servlet filter that can be applied to any other servlet that needs access to Seam components.
	</p>
      <p>
		This filter allows custom servlets to interact with the Seam contexts. It sets up the Seam contexts at the beginning of each request, and tears them down at the end of the request. You should make sure that this filter is <span class="emphasis"><em>never</em></span> applied to the JSF <code class="literal">FacesServlet</code>. Seam uses the phase listener for context management in a JSF request.
	</p>
      <p>
		This filter is not installed by default and requires an entry in <code class="literal">components.xml</code> to enable it:
	</p>
      <pre class="programlisting">&lt;web:context-filter url-pattern="/media/*"/&gt;
</pre>
      <p>
		The context filter expects to find the conversation id of any conversation context in a request parameter named <code class="literal">conversationId</code>. You are responsible for ensuring that it gets sent in the request.
	</p>
      <p>
		You are also responsible for ensuring propagation of any new conversation id back to the client. Seam exposes the conversation id as a property of the built in component <code class="literal">conversation</code>.
	</p>
    </div>
    <ul xmlns="http://www.w3.org/1999/xhtml" class="docnav">
      <li class="previous">
        <a accesskey="p" href="ch25s01s04s06.html"><strong>Prev</strong>25.1.4.6. Identity Logging</a>
      </li>
      <li class="up">
        <a accesskey="u" href="#">
          <strong>Up</strong>
        </a>
      </li>
      <li class="home">
        <a accesskey="h" href="index.html">
          <strong>Home</strong>
        </a>
      </li>
      <li class="next">
        <a accesskey="n" href="ch25s01s04s08.html"><strong>Next</strong>25.1.4.8. Adding custom filters</a>
      </li>
    </ul>
  </body>
</html>
