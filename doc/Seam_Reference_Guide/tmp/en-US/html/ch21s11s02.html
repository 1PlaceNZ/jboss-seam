<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head xmlns="http://www.w3.org/1999/xhtml">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>21.11.2. Subscribing to a JMS Topic</title>
    <link rel="stylesheet" href="./Common_Content/css/default.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.72.0" />
    <link rel="start" href="index.html" title="Seam - Contextual Components" />
    <link rel="up" href="ch21s11.html" title="21.11. JMS Messaging" />
    <link rel="prev" href="ch21s11s01.html" title="21.11.1. Configuration" />
    <link rel="next" href="ch21s11s03.html" title="21.11.3. Unsubscribing from a Topic" />
  </head>
  <body>
    <p xmlns="http://www.w3.org/1999/xhtml" id="title">
      <a href="http://www.redhat.com/docs">
        <strong>21.11.2. Subscribing to a JMS Topic</strong>
      </a>
    </p>
    <ul xmlns="http://www.w3.org/1999/xhtml" class="docnav">
      <li class="previous">
        <a accesskey="p" href="ch21s11s01.html">
          <strong>Prev</strong>
        </a>
      </li>
      <li class="next">
        <a accesskey="n" href="ch21s11s03.html">
          <strong>Next</strong>
        </a>
      </li>
    </ul>
    <div xmlns="http://www.w3.org/1999/xhtml" class="section" lang="en-US" xml:lang="en-US">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a id="id2861446"></a>21.11.2. Subscribing to a JMS Topic</h3>
          </div>
        </div>
      </div>
      <p>
				The following example demonstrates how to subscribe to a JMS Topic:
			</p>
      <pre class="programlisting">function subscriptionCallback(message)
{
  if (message instanceof Seam.Remoting.TextMessage)
    alert("Received message: " + message.getText());
}           

Seam.Remoting.subscribe("topicName", subscriptionCallback);
</pre>
      <p>
				The <code class="literal">Seam.Remoting.subscribe()</code> method accepts two parameters, the first being the name of the JMS Topic to subscribe to, the second being the callback function to invoke when a message is received.
			</p>
      <p>
				There are two types of messages supported, Text messages and Object messages. If you need to test for the type of message that is passed to your callback function you can use the <code class="literal">instanceof</code> operator to test whether the message is a <code class="literal">Seam.Remoting.TextMessage</code> or <code class="literal">Seam.Remoting.ObjectMessage</code>. A <code class="literal">TextMessage</code> contains the text value in its <code class="literal">text</code> field (or alternatively call <code class="literal">getText()</code> on it), while an <code class="literal">ObjectMessage</code> contains its object value in its <code class="literal">value</code> field (or call its <code class="literal">getValue()</code> method).
			</p>
    </div>
    <ul xmlns="http://www.w3.org/1999/xhtml" class="docnav">
      <li class="previous">
        <a accesskey="p" href="ch21s11s01.html"><strong>Prev</strong>21.11.1. Configuration</a>
      </li>
      <li class="up">
        <a accesskey="u" href="#">
          <strong>Up</strong>
        </a>
      </li>
      <li class="home">
        <a accesskey="h" href="index.html">
          <strong>Home</strong>
        </a>
      </li>
      <li class="next">
        <a accesskey="n" href="ch21s11s03.html"><strong>Next</strong>21.11.3. Unsubscribing from a Topic</a>
      </li>
    </ul>
  </body>
</html>
