<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head xmlns="http://www.w3.org/1999/xhtml">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>8.6. Using Hibernate filters</title>
    <link rel="stylesheet" href="./Common_Content/css/default.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.72.0" />
    <link rel="start" href="index.html" title="Seam - Contextual Components" />
    <link rel="up" href="persistence.html" title="Chapter 8. Seam and Object/Relational Mapping" />
    <link rel="prev" href="ch08s05.html" title="8.5. Using EL in EJB-QL/HQL" />
    <link rel="next" href="validation.html" title="Chapter 9. JSF form validation in Seam" />
  </head>
  <body>
    <p xmlns="http://www.w3.org/1999/xhtml" id="title">
      <a href="http://www.redhat.com/docs">
        <strong>8.6. Using Hibernate filters</strong>
      </a>
    </p>
    <ul xmlns="http://www.w3.org/1999/xhtml" class="docnav">
      <li class="previous">
        <a accesskey="p" href="ch08s05.html">
          <strong>Prev</strong>
        </a>
      </li>
      <li class="next">
        <a accesskey="n" href="validation.html">
          <strong>Next</strong>
        </a>
      </li>
    </ul>
    <div xmlns="http://www.w3.org/1999/xhtml" class="section" lang="en-US" xml:lang="en-US">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a id="id2848980"></a>8.6. Using Hibernate filters</h2>
          </div>
        </div>
      </div>
      <p>
			The coolest, and most unique, feature of Hibernate is <span class="emphasis"><em>filters</em></span>. Filters let you provide a restricted view of the data in the database. You can find out more about filters in the Hibernate documentation. But we thought we'd mention an easy way to incorporate filters into a Seam application, one that works especially well with the Seam Application Framework.
		</p>
      <p>
			Seam-managed persistence contexts may have a list of filters defined, which will be enabled whenever an <code class="literal">EntityManager</code> or Hibernate <code class="literal">Session</code> is first created. (Of course, they may only be used when Hibernate is the underlying persistence provider.)
		</p>
      <pre class="programlisting">&lt;persistence:filter name="regionFilter"&gt;
    &lt;persistence:name&gt;region&lt;/persistence:name&gt;
    &lt;persistence:parameters&gt;
        &lt;key&gt;regionCode&lt;/key&gt;
        &lt;value&gt;#{region.code}&lt;/value&gt;
    &lt;/persistence:parameters&gt;
&lt;/persistence:filter&gt;

&lt;persistence:filter name="currentFilter"&gt;
    &lt;persistence:name&gt;current&lt;/persistence:name&gt;
    &lt;persistence:parameters&gt;
        &lt;key&gt;date&lt;/key&gt;
        &lt;value&gt;#{currentDate}&lt;/value&gt;
    &lt;/persistence:parameters&gt;
&lt;/persistence:filter&gt;

&lt;persistence:managed-persistence-context name="personDatabase"
    persistence-unit-jndi-name="java:/EntityManagerFactories/personDatabase"&gt;
    &lt;core:filters&gt;
        &lt;value&gt;#{regionFilter}&lt;/value&gt;
        &lt;value&gt;#{currentFilter}&lt;/value&gt;
    &lt;/core:filters&gt;
&lt;/persistence:managed-persistence-context&gt;
</pre>
    </div>
    <ul xmlns="http://www.w3.org/1999/xhtml" class="docnav">
      <li class="previous">
        <a accesskey="p" href="ch08s05.html"><strong>Prev</strong>8.5. Using EL in EJB-QL/HQL</a>
      </li>
      <li class="up">
        <a accesskey="u" href="#">
          <strong>Up</strong>
        </a>
      </li>
      <li class="home">
        <a accesskey="h" href="index.html">
          <strong>Home</strong>
        </a>
      </li>
      <li class="next">
        <a accesskey="n" href="validation.html"><strong>Next</strong>Chapter 9. JSF form validation in Seam</a>
      </li>
    </ul>
  </body>
</html>
