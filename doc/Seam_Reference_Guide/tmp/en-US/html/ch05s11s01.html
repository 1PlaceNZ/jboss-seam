<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head xmlns="http://www.w3.org/1999/xhtml">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>5.11.1. Exceptions and transactions</title>
    <link rel="stylesheet" href="./Common_Content/css/default.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.72.0" />
    <link rel="start" href="index.html" title="Seam - Contextual Components" />
    <link rel="up" href="ch05s11.html" title="5.11. Managing exceptions" />
    <link rel="prev" href="ch05s11.html" title="5.11. Managing exceptions" />
    <link rel="next" href="ch05s11s02.html" title="5.11.2. Enabling Seam exception handling" />
  </head>
  <body>
    <p xmlns="http://www.w3.org/1999/xhtml" id="title">
      <a href="http://www.redhat.com/docs">
        <strong>5.11.1. Exceptions and transactions</strong>
      </a>
    </p>
    <ul xmlns="http://www.w3.org/1999/xhtml" class="docnav">
      <li class="previous">
        <a accesskey="p" href="ch05s11.html">
          <strong>Prev</strong>
        </a>
      </li>
      <li class="next">
        <a accesskey="n" href="ch05s11s02.html">
          <strong>Next</strong>
        </a>
      </li>
    </ul>
    <div xmlns="http://www.w3.org/1999/xhtml" class="section" lang="en-US" xml:lang="en-US">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a id="id2859328"></a>5.11.1. Exceptions and transactions</h3>
          </div>
        </div>
      </div>
      <p>
				EJB specifies well-defined rules that let us control whether an exception immediately marks the current transaction for rollback when it is thrown by a business method of the bean: <span class="emphasis"><em>system exceptions</em></span> always cause a transaction rollback, <span class="emphasis"><em>application exceptions</em></span> do not cause a rollback by default, but they do if <code class="literal">@ApplicationException(rollback=true)</code> is specified. (An application exception is any checked exception, or any unchecked exception annotated <code class="literal">@ApplicationException</code>. A system exception is any unchecked exception without an <code class="literal">@ApplicationException</code> annotation.)
			</p>
      <p>
				Note that there is a difference between marking a transaction for rollback, and actually rolling it back. The exception rules say that the transaction should be marked rollback only, but it may still be active after the exception is thrown.
			</p>
      <p>
				Seam applies the EJB 3.0 exception rollback rules also to Seam JavaBean components.
			</p>
      <p>
				But these rules only apply in the Seam component layer. What about an exception that is uncaught and propagates out of the Seam component layer, and out of the JSF layer? Well, it is always wrong to leave a dangling transaction open, so Seam rolls back any active transaction when an exception occurs and is uncaught in the Seam component layer.
			</p>
    </div>
    <ul xmlns="http://www.w3.org/1999/xhtml" class="docnav">
      <li class="previous">
        <a accesskey="p" href="ch05s11.html"><strong>Prev</strong>5.11. Managing exceptions</a>
      </li>
      <li class="up">
        <a accesskey="u" href="#">
          <strong>Up</strong>
        </a>
      </li>
      <li class="home">
        <a accesskey="h" href="index.html">
          <strong>Home</strong>
        </a>
      </li>
      <li class="next">
        <a accesskey="n" href="ch05s11s02.html"><strong>Next</strong>5.11.2. Enabling Seam exception handling</a>
      </li>
    </ul>
  </body>
</html>
